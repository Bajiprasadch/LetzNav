webpackJsonp([2],{1012:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),o=n(3),i=(n.n(o),n(1889)),s=(n.n(i),n(118)),a=n(44),u=n(9),c=n(12),l=(function(){function t(t,e){this.messages=t,this.tokenStorage=e,this.lock=new i.Lock,this.messages.ofTypeResponse(c.a.ShouldExtensionStart).subscribe(this.onShouldStart.bind(this)),this.messages.ofTypeResponse(c.a.ClearApplicationCache).subscribe(this.clearCache.bind(this)),chrome.browserAction.onClicked.addListener(this.onIconClick.bind(this))}return t.prototype.onIconClick=function(t){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.clearCache(),[4,this.tokenStorage.setToken(a.f)];case 1:return n.sent(),[4,this.shoulStartExtension(t.url)];case 2:return n.sent()?[4,this.messages.sendMessageTab(t.id,{type:c.a.StartExtension},!1)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[3,6];case 5:return e=n.sent(),console.error(e),[3,6];case 6:return[2]}}))}))},t.prototype.clearCache=function(){this.cache=null},t.prototype.shoulStartExtension=function(t){return r.b(this,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.acquireCache()];case 1:return e=r.sent(),n=e.urls.some((function(e){return t.startsWith(e)})),[2,n]}}))}))},t.prototype.onShouldStart=function(t){var e=t.message,n=t.sendResponse;return r.b(this,void 0,void 0,(function(){var t,o,i;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=e.href,[4,this.shoulStartExtension(t)];case 1:return o=r.sent(),n({shouldStart:o}),[3,3];case 2:return i=r.sent(),console.error(i),n({shouldStart:!1}),[3,3];case 3:return[2]}}))}))},t.prototype.acquireCache=function(){return r.b(this,void 0,void 0,(function(){var t,e,n,i,u,c;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.lock.acquire()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,,8,9]),(t=Object(o.utc)(),this.cache&&this.cache.validTill.isAfter(t))?[2,this.cache]:this.config?[3,4]:(e=this,[4,Object(s.c)()]);case 3:e.config=r.sent(),r.label=4;case 4:return[4,this.tokenStorage.getToken(a.f)];case 5:return n=r.sent(),i=this.config.backendUrl+"/api/public/admin/applications/urls",n&&(i+="?userId="+encodeURIComponent(n)),[4,fetch(i)];case 6:if(u=r.sent(),!u.ok)throw new Error("Cannot get applications URLs");return[4,u.json()];case 7:return c=r.sent().urls,this.cache={urls:c,validTill:t.clone().add(1,"h")},[2,this.cache];case 8:return this.lock.release(),[7];case 9:return[2]}}))}))},t.ctorParameters=function(){return[{type:u.a},{type:a.k}]},t})()},1013:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}};e.__esModule=!0;var i=(function(){function t(t){this.promiseResolverQueue=[],this.permits=t}return t.prototype.getPermits=function(){return this.permits},t.prototype.wait=function(){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){return this.permits>0?(this.permits-=1,[2,Promise.resolve(!0)]):[2,new Promise(function(e){return t.promiseResolverQueue.push(e)})]}))}))},t.prototype.acquire=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this.wait()]}))}))},t.prototype.waitFor=function(t){return r(this,void 0,void 0,(function(){var e,n,r=this;return o(this,(function(o){return this.permits>0?(this.permits-=1,[2,Promise.resolve(!0)]):(e=function(t){},n=new Promise(function(t){e=t}),this.promiseResolverQueue.push(e),setTimeout((function(){var t=r.promiseResolverQueue.indexOf(e);-1!==t&&r.promiseResolverQueue.splice(t,1),e(!1)}),t),[2,n])}))}))},t.prototype.tryAcquire=function(){return this.permits>0&&(this.permits-=1,!0)},t.prototype.drainPermits=function(){if(this.permits>0){var t=this.permits;return this.permits=0,t}return 0},t.prototype.signal=function(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)throw new Error("this.permits should never be > 0 when there is someone waiting.");if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;var t=this.promiseResolverQueue.shift();t&&t(!0)}},t.prototype.release=function(){this.signal()},t.prototype.execute=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.wait()];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,t()];case 3:return[2,e.sent()];case 4:return this.signal(),[7];case 5:return[2]}}))}))},t})();e.default=i},1014:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(2),o=n(12),i=n(9),s=(function(){function t(t){this.messages=t,this.nonRoutable=new Set([o.a.TakeScreenshot,o.a.ShouldExtensionStart]),this.initRouting()}return t.prototype.initRouting=function(){var t=this;this.messages.messagesResponse.subscribe((function(e){var n=e.message,o=e.sender,i=e.sendResponse;return r.b(t,void 0,void 0,(function(){var t,e;return r.e(this,(function(r){switch(r.label){case 0:if(this.nonRoutable.has(n.type))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.messages.sendMessageTab(o.tab.id,n,!0)];case 2:return t=r.sent(),void 0!==t&&i(t),[3,4];case 3:return e=r.sent(),console.error(e),[3,4];case 4:return[2]}}))}))}))},t.ctorParameters=function(){return[{type:i.a}]},t})()},1015:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),o=n(9),i=n(12),s=n(1016),a=(function(){function t(t,e){this.messages=t,this.tabs=e,this.messages.ofTypeResponse(i.a.TakeScreenshot).subscribe(this.onTakeScreenshot.bind(this))}return t.prototype.onTakeScreenshot=function(t){var e=t.sender,n=t.sendResponse;return r.b(this,void 0,void 0,(function(){var t,o,i;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.tabs.getTab(e.tab.id)];case 1:return t=r.sent(),[4,this.tabs.captureTab(t)];case 2:return o=r.sent().dataUrl,n({dataUrl:o}),[3,4];case 3:return i=r.sent(),console.error(i),[3,4];case 4:return[2]}}))}))},t.ctorParameters=function(){return[{type:o.a},{type:s.a}]},t})()},1016:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t.prototype.getTab=function(t){return new Promise(function(e,n){return chrome.tabs.get(t,(function(t){chrome.runtime.lastError?n(chrome.runtime.lastError):e(t)}))})},t.prototype.captureTab=function(t){return new Promise(function(e,n){return chrome.tabs.captureVisibleTab(t.windowId,(function(t){chrome.runtime.lastError?n(chrome.runtime.lastError):e({dataUrl:t})}))})},t})()},118:function(t,e,n){"use strict";var r=n(41);n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return r.b})),n.d(e,"c",(function(){return r.c}))},12:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r,o=n(13);(function(t){t[t.Expand=0]="Expand",t[t.Narrow=1]="Narrow",t[t.Previous=2]="Previous",t[t.Next=3]="Next"})(r||(r={}));var i,s={element:null,checkState:o.b.NotChecked,position:null};(function(t){t[t.ElementSelector=0]="ElementSelector",t[t.ElementSelected=1]="ElementSelected",t[t.ElementState=2]="ElementState",t[t.StepViewElementState=3]="StepViewElementState",t[t.ElementEvent=4]="ElementEvent",t[t.GetElementState=5]="GetElementState",t[t.GetElementSelector=6]="GetElementSelector",t[t.ActivatePicker=7]="ActivatePicker",t[t.DeactivatePicker=8]="DeactivatePicker",t[t.ClearPickedElement=9]="ClearPickedElement",t[t.FramesChanged=10]="FramesChanged",t[t.zIndexChanged=11]="zIndexChanged",t[t.ChangeSelection=12]="ChangeSelection",t[t.ShowSelection=13]="ShowSelection",t[t.HideSelection=14]="HideSelection",t[t.ShowHighlight=15]="ShowHighlight",t[t.HideHighlight=16]="HideHighlight",t[t.SearchElementByText=17]="SearchElementByText",t[t.ClearTextSearch=18]="ClearTextSearch",t[t.TakeScreenshot=19]="TakeScreenshot",t[t.Shortcut=20]="Shortcut",t[t.PlayerShortcut=21]="PlayerShortcut",t[t.GetApplicationConfig=22]="GetApplicationConfig",t[t.ApplicationConfig=23]="ApplicationConfig",t[t.ClearIntegrityState=24]="ClearIntegrityState",t[t.ClearCurrentStepIntegrityState=25]="ClearCurrentStepIntegrityState",t[t.LoadIntegrityState=26]="LoadIntegrityState",t[t.UpdateIntegrityState=27]="UpdateIntegrityState",t[t.SetCurrentStep=28]="SetCurrentStep",t[t.IntegrityState=29]="IntegrityState",t[t.RequestIntegrityState=30]="RequestIntegrityState",t[t.AddStepToIntegrity=31]="AddStepToIntegrity",t[t.ShowPivot=32]="ShowPivot",t[t.HidePivot=33]="HidePivot",t[t.ShowFormPivot=34]="ShowFormPivot",t[t.HideFormPivot=35]="HideFormPivot",t[t.ShowSpotlight=36]="ShowSpotlight",t[t.HideSpotlight=37]="HideSpotlight",t[t.PlayerShortcuts=38]="PlayerShortcuts",t[t.GetPlayerShortcuts=39]="GetPlayerShortcuts",t[t.UrlChanged=40]="UrlChanged",t[t.GetCurrentScripts=41]="GetCurrentScripts",t[t.ExecuteAppScript=42]="ExecuteAppScript",t[t.ExecuteStepScript=43]="ExecuteStepScript",t[t.StepScriptExecuted=44]="StepScriptExecuted",t[t.ScriptExecutionAction=45]="ScriptExecutionAction",t[t.ScriptExecutionState=46]="ScriptExecutionState",t[t.StepCondition=47]="StepCondition",t[t.GetStepCondition=48]="GetStepCondition",t[t.StepConditionEvaluation=49]="StepConditionEvaluation",t[t.ScrollToElement=50]="ScrollToElement",t[t.RequestValidationData=51]="RequestValidationData",t[t.SetValidationData=52]="SetValidationData",t[t.ClearValidationData=53]="ClearValidationData",t[t.SetFormData=54]="SetFormData",t[t.SetCurrentForm=55]="SetCurrentForm",t[t.ClearFormData=56]="ClearFormData",t[t.UpdateFormData=57]="UpdateFormData",t[t.UpdateFormState=58]="UpdateFormState",t[t.RequestFormData=59]="RequestFormData",t[t.UpdateValidationData=60]="UpdateValidationData",t[t.DeleteValidationData=61]="DeleteValidationData",t[t.UpdateValidationState=62]="UpdateValidationState",t[t.RecheckValidations=63]="RecheckValidations",t[t.ValidationEvent=64]="ValidationEvent",t[t.SetForms=65]="SetForms",t[t.ClearForms=66]="ClearForms",t[t.ActivateForms=67]="ActivateForms",t[t.RequestForms=68]="RequestForms",t[t.RecheckForms=69]="RecheckForms",t[t.ExecuteDecisionConditions=70]="ExecuteDecisionConditions",t[t.StepDecisionConditionsEvaluated=71]="StepDecisionConditionsEvaluated",t[t.AnnouncementDecisionConditionsEvaluated=72]="AnnouncementDecisionConditionsEvaluated",t[t.ExecuteDecisionActions=73]="ExecuteDecisionActions",t[t.UpdateDecisionEvaluation=74]="UpdateDecisionEvaluation",t[t.DecisionPointGoToAction=75]="DecisionPointGoToAction",t[t.DecisionPointNextStepAction=76]="DecisionPointNextStepAction",t[t.DecisionPointEndFlowAction=77]="DecisionPointEndFlowAction",t[t.DecisionPointCustomScriptAction=78]="DecisionPointCustomScriptAction",t[t.ShouldExtensionStart=79]="ShouldExtensionStart",t[t.ClearApplicationCache=80]="ClearApplicationCache",t[t.StartExtension=81]="StartExtension",t[t.DecisionEditorAddClass=82]="DecisionEditorAddClass",t[t.DecisionEditorRemoveClass=83]="DecisionEditorRemoveClass",t[t.ClearBadgeData=84]="ClearBadgeData",t[t.SetBadgeData=85]="SetBadgeData",t[t.UpdateBadgeData=86]="UpdateBadgeData",t[t.DeleteBadgeData=87]="DeleteBadgeData",t[t.UpdateBadgeState=88]="UpdateBadgeState",t[t.RecheckBadges=89]="RecheckBadges",t[t.RequestBadgeData=90]="RequestBadgeData",t[t.ShowBadge=91]="ShowBadge",t[t.HideBadge=92]="HideBadge",t[t.FilterFlows=93]="FilterFlows",t[t.FilterFlowsResult=94]="FilterFlowsResult",t[t.ChangePlayerVisibility=95]="ChangePlayerVisibility",t[t.UpdateEditFormData=96]="UpdateEditFormData",t[t.FindIFramePath=97]="FindIFramePath",t[t.SetIFramePath=98]="SetIFramePath",t[t.UpdateUserTrackingId=99]="UpdateUserTrackingId",t[t.clearUserTrackingId=100]="clearUserTrackingId",t[t.FlowStepSpotlightTypeChange=101]="FlowStepSpotlightTypeChange",t[t.IdentifyActiveSegments=102]="IdentifyActiveSegments",t[t.HashChanged=103]="HashChanged",t[t.DOMChanged=104]="DOMChanged",t[t.TopWindowDOMChanged=105]="TopWindowDOMChanged"})(i||(i={}));var a;(function(t){t[t.Previous=0]="Previous",t[t.Next=1]="Next",t[t.GoToStep=2]="GoToStep",t[t.Fail=3]="Fail",t[t.End=4]="End",t[t.UserAction=5]="UserAction"})(a||(a={}))},13:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return f}));var r,o=n(0),i=n(5),s=new o.InjectionToken("applicationURL");(function(t){t[t.NotChecked=0]="NotChecked",t[t.NotPresent=1]="NotPresent",t[t.NotVisible=2]="NotVisible",t[t.Present=3]="Present"})(r||(r={}));var a,u={id:-1,name:"",formIdentification:[],frameIdentificationType:i.u.ElementSelection,URI:"",customScript:"",deployment:0,tags:[]};(function(t){t[t.None=0]="None",t[t.Starting=1]="Starting",t[t.InProgress=2]="InProgress",t[t.Succeeded=3]="Succeeded",t[t.Canceled=4]="Canceled"})(a||(a={}));var c,l=320,f=function(t,e){return!!t&&!!e&&t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height};(function(t){t[t.toggleCssPicker=0]="toggleCssPicker",t[t.cssPickerToggled=1]="cssPickerToggled",t[t.uriHashChanged=2]="uriHashChanged",t[t.cssSelectorChanged=3]="cssSelectorChanged",t[t.takeScreenshot=4]="takeScreenshot",t[t.screenshot=5]="screenshot",t[t.screenshotFailed=6]="screenshotFailed",t[t.selectedElementMoved=7]="selectedElementMoved",t[t.selectElement=8]="selectElement",t[t.getIFrameSelector=9]="getIFrameSelector",t[t.iFrameSelector=10]="iFrameSelector",t[t.shortcutPressed=11]="shortcutPressed"})(c||(c={}));var d;(function(t){t[t.element=0]="element",t[t.parent=1]="parent"})(d||(d={}))},14:function(t,e,n){"use strict";function r(t,e){return n={},n[t.INIT]=e.init||a,n[t.SUCCEEDED]=e.succeeded||a,n[t.FAILED]=e.failed||a,n[t.CANCELED]=e.canceled||a,n;var n}n.d(e,"a",(function(){return s})),e.b=r;var o=n(2),i=function(t){return function(e){return{type:t,payload:e}}},s=function(t){var e={INIT:t+"_INIT",SUCCEEDED:t+"_SUCCEEDED",FAILED:t+"_FAILED",CANCELED:t+"_CANCELED"};return o.a({},e,{RESULT_ACTIONS:[e.SUCCEEDED,e.FAILED,e.CANCELED],init:i(e.INIT),failed:i(e.FAILED),succeeded:i(e.SUCCEEDED),canceled:i(e.CANCELED)})},a=function(t){return t}},143:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),o=n(67),i=n(8),s=(n.n(i),n(422)),a=(function(t){function e(e){return t.call(this,e)||this}return r.d(e,t),e.prototype.getSSOEndPoints=function(){return null},e.prototype.login=function(t){return null},e.prototype.getUserProfile=function(t){return null},e.prototype.resetPassword=function(t,e){return null},e.prototype.logout=function(t){return null},e.prototype.requestResetPassword=function(t){return null},e.ctorParameters=function(){return[{type:o.Http}]},e.ctorParameters=function(){return[{type:o.Http}]},e.ctorParameters=function(){return[{type:o.Http}]},e})(s.k);r.c([Object(s.e)("/sso-end-points",{auth:"public"}),r.f("design:type",Function),r.f("design:paramtypes",[]),r.f("design:returntype","function"==typeof(u=void 0!==i.Observable&&i.Observable)&&u||Object)],a.prototype,"getSSOEndPoints",null),r.c([Object(s.g)("/login",{auth:"public"}),r.g(0,s.b),r.f("design:type",Function),r.f("design:paramtypes",[Object]),r.f("design:returntype","function"==typeof(c=void 0!==i.Observable&&i.Observable)&&c||Object)],a.prototype,"login",null),r.c([Object(s.e)("/profile",{auth:"private"}),r.g(0,Object(s.f)("Authorization")),r.f("design:type",Function),r.f("design:paramtypes",[String]),r.f("design:returntype","function"==typeof(l=void 0!==i.Observable&&i.Observable)&&l||Object)],a.prototype,"getUserProfile",null),r.c([Object(s.g)("/reset-password/{resetLink}",{auth:"public"}),r.g(0,Object(s.i)("resetLink")),r.g(1,s.b),r.f("design:type",Function),r.f("design:paramtypes",[String,Object]),r.f("design:returntype","function"==typeof(f=void 0!==i.Observable&&i.Observable)&&f||Object)],a.prototype,"resetPassword",null),r.c([Object(s.g)("/log/logout",{auth:"public"}),r.g(0,s.b),r.f("design:type",Function),r.f("design:paramtypes",[Object]),r.f("design:returntype","function"==typeof(d=void 0!==i.Observable&&i.Observable)&&d||Object)],a.prototype,"logout",null),r.c([Object(s.g)("/request-reset-password",{auth:"public"}),r.g(0,s.b),r.f("design:type",Function),r.f("design:paramtypes",[Object]),r.f("design:returntype","function"==typeof(p=void 0!==i.Observable&&i.Observable)&&p||Object)],a.prototype,"requestResetPassword",null),a=r.c([Object(s.d)({Accept:"application/json; charset=utf-8","Content-Type":"application/json"}),Object(s.a)("./api/$auth$/auth"),r.f("design:paramtypes",["function"==typeof(h=void 0!==o.Http&&o.Http)&&h||Object])],a);var u,c,l,f,d,p,h},163:function(t,e,n){"use strict";var r=n(164);n.d(e,"a",(function(){return r.a}));n(573)},164:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t})()},165:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return f}));var r=function(t){return"RESET_PASSWORD_"+t},o=r("RESET_LINK"),i=function(t,e){return{type:o,payload:{link:t,password:e}}},s=r("RESET_LINK_SUCCEEDED"),a=function(t){return{type:s,payload:{redirect:t}}},u=r("RESET_LINK_FAILED"),c=function(t){return{type:u,payload:{isTempError:t}}},l=r("RESET_STATE"),f=function(){return{type:l}}},166:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(2),o=n(8),i=(n.n(o),n(74)),s=n(18),a=n(167),u=n(579),c=(function(){function t(t){this.store=t,this.username=null}return Object.defineProperty(t.prototype,"isTouched",{get:function(){return!!this.username},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngUnsubscribe=new o.Subject,this.resetLinkSentResult=this.store.select(u.c).takeUntil(this.ngUnsubscribe),this.resetLinkSendingStarted=this.store.select(u.b).takeUntil(this.ngUnsubscribe),this.resetLinkFailedMessage=this.store.select(u.a).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(a.h)())},Object.defineProperty(t.prototype,"isValidEmail",{get:function(){return!!this.username&&!!this.username.match(i.f)},enumerable:!0,configurable:!0}),t.prototype.sendResetLink=function(){return r.b(this,void 0,void 0,(function(){var t,e,n;return r.e(this,(function(r){switch(r.label){case 0:return t=window.location.origin,[4,fetch(chrome.runtime.getURL("./config.json"))];case 1:return e=r.sent(),[4,e.json()];case 2:n=r.sent(),t=n.backendUrl,r.label=3;case 3:return this.store.dispatch(Object(a.e)(this.username,t)),[2]}}))}))},t.ctorParameters=function(){return[{type:s.a}]},t})()},167:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return f}));var r=function(t){return"FORGOTTEN_PASSWORD_"+t},o=r("RESET_STATE"),i=function(){return{type:o}},s=r("REQUEST_RESET"),a=function(t,e){return{type:s,payload:{username:t,baseUrl:e}}},u=r("REQUEST_RESET_SUCCEEDED"),c=function(){return{type:u}},l=r("REQUEST_RESET_FAILED"),f=function(t){return{type:l,payload:t}}},18:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t})()},1886:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(5),i=n(1887),s=n(22),a=this;(function(){return r.b(a,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,Object(s.l)().bootstrapModuleFactory(i.a)];case 1:return t.sent(),[2]}}))}))})().catch((function(t){return console.error(t)})),chrome.runtime.onMessage.addListener((function(t,e,n){if(t.type===o.d.SSO)try{chrome.identity.launchWebAuthFlow({url:t.SSO_LOGIN_URI+"?redirectURI=https://"+chrome.runtime.id+".chromiumapp.org&source="+Object(o.S)(o.c.Editor),interactive:!0},(function(t){n({URI:t})}))}catch(t){n({URI:void 0}),console.error(t)}}))},1887:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(0),o=n(1888),i=n(4),s=n(22),a=n(9),u=n(675),c=n(1014),l=n(1016),f=n(1015),d=n(164),p=n(674),h=n(1012),g=r["ɵcmf"](o.a,[],(function(t){return r["ɵmod"]([r["ɵmpd"](512,r.ComponentFactoryResolver,r["ɵCodegenComponentFactoryResolver"],[[8,[]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["ɵmpd"](5120,r.LOCALE_ID,r["ɵm"],[[3,r.LOCALE_ID]]),r["ɵmpd"](4608,i.o,i.n,[r.LOCALE_ID]),r["ɵmpd"](4608,r.Compiler,r.Compiler,[]),r["ɵmpd"](5120,r.APP_ID,r["ɵf"],[]),r["ɵmpd"](5120,r.IterableDiffers,r["ɵk"],[]),r["ɵmpd"](5120,r.KeyValueDiffers,r["ɵl"],[]),r["ɵmpd"](4608,s.c,s.v,[i.d]),r["ɵmpd"](6144,r.Sanitizer,null,[s.c]),r["ɵmpd"](4608,s.f,s.g,[]),r["ɵmpd"](5120,s.d,(function(t,e,n,r){return[new s.m(t),new s.r(e),new s.p(n,r)]}),[i.d,i.d,i.d,s.f]),r["ɵmpd"](4608,s.e,s.e,[s.d,r.NgZone]),r["ɵmpd"](135680,s.o,s.o,[i.d]),r["ɵmpd"](4608,s.n,s.n,[s.e,s.o]),r["ɵmpd"](6144,r.RendererFactory2,null,[s.n]),r["ɵmpd"](6144,s.s,null,[s.o]),r["ɵmpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["ɵmpd"](4608,s.h,s.h,[i.d]),r["ɵmpd"](4608,s.j,s.j,[i.d]),r["ɵmpd"](512,i.c,i.c,[]),r["ɵmpd"](1024,r.ErrorHandler,s.t,[]),r["ɵmpd"](1024,r.APP_INITIALIZER,(function(t,e){return[s.u(t,e)]}),[[2,s.i],[2,r.NgProbeToken]]),r["ɵmpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["ɵmpd"](131584,r["ɵe"],r["ɵe"],[r.NgZone,r["ɵConsole"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["ɵmpd"](2048,r.ApplicationRef,null,[r["ɵe"]]),r["ɵmpd"](512,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["ɵmpd"](512,s.a,s.a,[[3,s.a]]),r["ɵmpd"](512,a.a,u.a,[r.NgZone]),r["ɵmpd"](512,c.a,c.a,[a.a]),r["ɵmpd"](512,l.a,l.a,[]),r["ɵmpd"](512,f.a,f.a,[a.a,l.a]),r["ɵmpd"](512,d.a,p.a,[]),r["ɵmpd"](512,h.a,h.a,[a.a,d.a]),r["ɵmpd"](512,o.a,o.a,[r.ApplicationRef,c.a,f.a,h.a])])}))},1888:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),o=n(32),i=(n.n(o),n(183)),s=(n.n(i),n(1012)),a=n(1014),u=n(1015),c=(function(){function t(t,e,n,r){this.appRef=t,this.routingService=e,this.screenshot=n,this.applications=r}return t.prototype.ngDoBootstrap=function(){},t.ctorParameters=function(){return[{type:r.ApplicationRef},{type:a.a},{type:u.a},{type:s.a}]},t})()},1889:function(t,e,n){"use strict";e.__esModule=!0;var r=n(1013);e.default=r.default,(function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])})(n(1890))},1890:function(t,e,n){"use strict";var r=this&&this.__extends||(function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();e.__esModule=!0;var o=n(1013),i=(function(t){function e(){return t.call(this,1)||this}return r(e,t),e})(o.default);e.Lock=i},190:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n(30),o=n(58),i=n(18),s=function(t){for(var e=[t];e[e.length-1].parent;)e.push(e[e.length-1].parent);return e.reverse(),e},a=(function(){function t(t){this.store=t}return t.prototype.canActivateChild=function(t,e){var n=this;return this.store.select((function(t){return t})).skipWhile((function(t){return Object(o.a)(t)})).take(1).map(o.g).map((function(e){for(var o=0,i=s(t);o<i.length;o++){var a=i[o],u=(function(t){var o=t.data.authorization;if(o&&!e.some((function(t){return o.indexOf(t)>=0})))return n.store.dispatch(Object(r.a)("/")),{value:!1}})(a);if("object"==typeof u)return u.value}return!0}))},t.ctorParameters=function(){return[{type:i.a}]},t})()},236:function(t,e,n){"use strict";var r=n(23),o=n(8),i=(n.n(o),n(74)),s=n(18),a=n(576),u=n(165);(function(){function t(t,e){this.store=t,this.route=e,this.password=null,this.passwordAgain=null}Object.defineProperty(t.prototype,"isInvalid",{get:function(){return this.password&&this.password.match(i.g)?this.password!==this.passwordAgain&&"Passwords must match.":"Password must consists of at least 8 non-space characters."},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouched",{get:function(){return null!==this.password||null!==this.passwordAgain},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new o.Subject,this.resetLinkResult=this.store.select(a.c),this.resetDone=this.store.select(a.b),this.redirectToAdmin=this.store.select(a.a),this.route.params.subscribe((function(e){return t.link=e.resetLink}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(u.h)())},t.prototype.changePassword=function(){this.store.dispatch(Object(u.e)(this.link,this.password))},t.ctorParameters=function(){return[{type:s.a},{type:r.a}]}})()},237:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(67),o=function(t){if(!t)return"No Error to Extract";if(t instanceof Error)return t.message;if(t instanceof r.Response){var e=t.headers&&t.headers.get("Content-Type");if(e&&e.indexOf("application/json")>=0)try{var n=t.json();if(n.msg)return n.msg}catch(t){}switch(t.status){case 0:return"Cannot contact server. Please, try again later.";case 400:return"Bad Request";case 404:return"Resource Not Found";case 500:return"The Network call failed on the server. Please, contact Server Administrator.";default:return"Unknown error ("+t.status+": "+t.statusText}}if("string"==typeof t)try{var n=JSON.parse(t);if(n.msg)return n.msg}catch(e){return t}return t.msg?t.msg.toString():"Unknown error: "+t.toString()}},238:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),o=n(8),i=(n.n(o),n(5)),s=n(18),a=n(57),u=n(58),c=(function(){function t(t,e,n){this.store=t,this.ngZone=e,this.cdf=n,this.authSource=i.c,this.isButtonBusy=!1,this.loginWithSSO=!0}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new o.Subject,this.errorMessage=this.store.select(u.d).takeUntil(this.ngUnsubscribe).map((function(e){return t.isButtonBusy=!1,e})),this.store.select(u.h).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.SSOConfig=e}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.logIn=function(t){this.isButtonBusy=!0,this.store.dispatch(Object(a.n)(this.username,this.password,Object(i.S)(t)))},t.prototype.isSSOActive=function(){return!this.SSOConfig.disabled&&this.SSOConfig.type!==i.E.None},t.prototype.toggleSSO=function(){this.loginWithSSO=!this.loginWithSSO},t.prototype.redirect=function(){var t=this;this.isLoggingIn=!0,this.isButtonBusy=!0;try{window.location.href.startsWith(this.SSOConfig.HOST_NAME)?window.location.href=this.SSOConfig.SSO_LOGIN_URI+"?redirectURI="+this.SSOConfig.SSO_LOGIN_SUCCESS_URI+"&source="+Object(i.S)(i.c.Admin):chrome.runtime&&chrome.runtime.sendMessage({type:i.d.SSO,SSO_LOGIN_URI:this.SSOConfig.SSO_LOGIN_URI},(function(e){if(e&&e.URI){var n=e.URI.split("/");t.ngZone.run((function(){t.store.dispatch(Object(a.t)(n[n.length-2],n[n.length-1]))}))}else t.isButtonBusy=!1,t.isLoggingIn=!1,t.cdf.detectChanges()}))}catch(t){this.errorMessage=o.Observable.of("Looks like SSO config is wrong, please check"),console.error(t),this.isLoggingIn=!1,this.isButtonBusy=!1}},t.ctorParameters=function(){return[{type:s.a},{type:r.NgZone},{type:r.ChangeDetectorRef}]},t})()},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e){return function(n,r){void 0===n&&(n=e);var o=t[r&&r.type];return o?o(n,r.payload):n}}},41:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n(2),o=n(0),i=this,s=function(){return r.b(i,void 0,void 0,(function(){var t,e;return r.e(this,(function(n){switch(n.label){case 0:return[4,fetch(chrome.runtime.getURL("./config.json"))];case 1:return t=n.sent(),[4,t.json()];case 2:return e=n.sent(),[2,e]}}))}))},a=new o.InjectionToken("config.json"),u=new o.InjectionToken("config.json/backendUrl")},422:function(t,e,n){"use strict";function r(t){return function(e){return e.prototype.getBaseUrl=function(){return t},e}}function o(t){return function(e){return e.prototype.getDefaultHeaders=function(){return t},e}}function i(t){return function(e){return function(n,r,o){var i=r+"_"+t+"_parameters",s={key:e,parameterIndex:o};Array.isArray(n[i])?n[i].push(s):n[i]=[s]}}}function s(t){return function(e,n){return function(r,o,i){var s=r[o+"_Path_parameters"],u=r[o+"_Query_parameters"],c=r[o+"_Body_parameters"],l=r[o+"_Header_parameters"];return i.value=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var f=null;c&&(f=JSON.stringify(r[c[0].parameterIndex]));var d=e;if(s)for(var p in s)s.hasOwnProperty(p)&&(d=d.replace("{"+s[p].key+"}",r[s[p].parameterIndex]));var h=new a.URLSearchParams;u&&u.filter((function(t){return r[t.parameterIndex]})).forEach((function(t){var e=t.key,n=r[t.parameterIndex];n instanceof Object&&(n=JSON.stringify(n)),h.set(e,n)}));var g=new a.Headers(this.getDefaultHeaders());for(var p in i.headers)i.headers.hasOwnProperty(p)&&g.append(p,i.headers[p]);if(l)for(var p in l)l.hasOwnProperty(p)&&g.append(l[p].key,r[l[p].parameterIndex]);var m=new a.RequestOptions({method:t,url:this.formatBaseUrl(n||null)+d,headers:g,body:f,search:h});return this.performRequest(m)},i}}}e.a=r,n.d(e,"k",(function(){return c})),e.d=o,n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return g})),n.d(e,"h",(function(){return m})),n.d(e,"c",(function(){return b}));var a=n(67),u=n(8),c=(n.n(u),(function(){function t(t){this.httpService=t}return t.prototype.requestInterceptor=function(t){return u.Observable.of(t)},t.prototype.responseInterceptor=function(t){return t},t.prototype.getBaseUrl=function(){return null},t.prototype.getDefaultHeaders=function(){return null},t.prototype.performRequest=function(t){var e=this,n=new a.Request(t),r=this.requestInterceptor(n).flatMap((function(t){return e.httpService.request(t)}));return r=this.responseInterceptor(r),r=r.map((function(t){var e=t.headers.get("content-type");return e&&e.startsWith("application/json")?t.json():204===t.status?null:t}))},t.prototype.formatBaseUrl=function(t){return this.getBaseUrl().replace(/\$(\w+)\$/g,(function(e,n){return t[n]}))},t})()),l=i("Path"),f=i("Query"),d=i("Body")("Body"),p=i("Header"),h=s(a.RequestMethod.Get),g=s(a.RequestMethod.Post),m=s(a.RequestMethod.Put),b=s(a.RequestMethod.Delete);s(a.RequestMethod.Head)},425:function(t,e,n){"use strict";function r(t,e){return new o.a(t,e)}e.b=r,n.d(e,"a",(function(){return i}));var o=n(572),i=(function(){function t(){}return t})()},426:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),o=n(17),i=n(30),s=n(68),a=n(165),u=(function(){function t(t,e){var n=this;this.action$=t,this.accountService=e,this.resetlinkSucceeded$=this.action$.ofType(a.c).map(o.c).filter((function(t){return t.redirect})).delay(5e3).map((function(t){return Object(i.a)("admin/system-settings/manage-users")})),this.resetlink$=this.action$.ofType(a.a).map(o.c).switchMapCorx((function(t,e){var o=(t.get,t.put),i=e.link,s=e.password;return r.b(n,void 0,void 0,(function(){var t,e;return r.e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,5]),[4,this.accountService.resetPassword(i,s)];case 1:return t=n.sent().redirect,[4,o(a.g(t))];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),[4,o(a.f(404!==e.status))];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))}))}return t.ctorParameters=function(){return[{type:o.a},{type:s.a}]},t})();r.c([Object(o.b)(),r.f("design:type",Object)],u.prototype,"resetlinkSucceeded$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],u.prototype,"resetlink$",void 0)},427:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(2),o=n(17),i=n(8),s=(n.n(i),n(237)),a=n(68),u=n(167),c=(function(){function t(t,e){var n=this;this.action$=t,this.accountService=e,this.resetlink$=this.action$.ofType(u.a).map(o.c).switchMap((function(t){var e=t.username,r=t.baseUrl;return i.Observable.fromPromise(n.accountService.requestResetPassword(e,r)).map((function(){return u.g()})).catch((function(t){return i.Observable.of(u.f(Object(s.a)(t)))}))}))}return t.ctorParameters=function(){return[{type:o.a},{type:a.a}]},t})();r.c([Object(o.b)(),r.f("design:type",Object)],c.prototype,"resetlink$",void 0)},428:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(2),o=n(17),i=n(30),s=n(8),a=(n.n(s),n(581)),u=n(237),c=n(18),l=n(68),f=n(58),d=n(57),p=n(143),h=(function(){function t(t,e,n,c){var l=this;this.action$=t,this.accountService=e,this.store=n,this.backendAuthService=c,this.init$=this.action$.ofType(a.a).delay(0).switchMap((function(){return s.Observable.of(d.u())})),this.validateAuth$=this.action$.ofType(d.k).switchMapCorx((function(t){var e=t.put;t.get;return r.b(l,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:t=!1,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this.accountService.handleAuthentication()];case 2:return r.sent(),[4,this.accountService.isAuthenticated()];case 3:return t=r.sent(),[3,5];case 4:return n=r.sent(),[3,5];case 5:return t?[4,e(d.m())]:[3,7];case 6:r.sent(),r.label=7;case 7:return[4,e(d.v(t))];case 8:return r.sent(),[2]}}))}))})),this.loadSSOConfig$=this.action$.ofType(d.b.INIT).switchMapCorx((function(t,e){var n=(t.get,t.put);return r.b(l,void 0,void 0,(function(){var t,e;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,5]),[4,this.accountService.getSSOEndPoints()];case 1:return t=r.sent(),[4,n(d.b.succeeded(t))];case 2:return r.sent(),[3,5];case 3:return e=r.sent(),[4,n(d.b.failed(e))];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))})),this.logIn$=this.action$.ofType(d.e).map(o.c).switchMap((function(t){var e=t.username,n=t.password,r=t.source;return s.Observable.fromPromise(l.accountService.logIn(e,n,r)).map((function(t){return d.m()})).catch((function(t){return s.Observable.of(d.o(Object(u.a)(t)))}))})),this.ssoLogInSuccess$=this.action$.ofType(d.j).map(o.c).switchMap((function(t){var e=t.token,n=t.userId;return s.Observable.fromPromise(l.accountService.ssoLogInSuccess(e,n)).map((function(t){return d.m()})).catch((function(t){return s.Observable.of(d.o(Object(u.a)(t)))}))})),this.getUserProfile$=this.action$.ofType(d.a).switchMap((function(t){return s.Observable.fromPromise(l.accountService.getUserProfile()).map((function(t){return d.q(t)})).catch((function(t){return s.Observable.of(d.o(Object(u.a)(t)))}))})),this.loggedIn$=this.action$.ofType(d.c).map((function(t){var e=l.store.getState(),n=Object(f.e)(e);return(!n&&"/login"===l.store.getRouterState().path||l.store.getRouterState().path.includes("/login-sso-success"))&&(n="/admin"),n})).filter((function(t){return!!t})).map((function(t){return Object(i.a)(t)})),this.logInWithGoogle$=this.action$.ofType(d.g).do((function(t){return l.accountService.loginWithGoogle()})),this.logOut$=this.action$.ofType(d.h).map(o.c).switchMapCorx((function(t,e){var n=t.get,o=t.put,i=e.source;return r.b(l,void 0,void 0,(function(){var t,e;return r.e(this,(function(r){switch(r.label){case 0:return t=this.store.getState(),e=+Object(f.i)(t),[4,this.accountService.logOut()];case 1:return r.sent(),[4,o(d.r())];case 2:return r.sent(),[4,n(this.backendAuthService.logout({userId:e,source:i}))];case 3:return r.sent(),[2]}}))}))})),this.loggedOut$=this.action$.ofType(d.d).map((function(t){return Object(i.a)("login")}))}return t.ctorParameters=function(){return[{type:o.a},{type:l.a},{type:c.a},{type:p.a}]},t})();r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"init$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"validateAuth$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"loadSSOConfig$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"logIn$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"ssoLogInSuccess$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"getUserProfile$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"loggedIn$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"logInWithGoogle$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"logOut$",void 0),r.c([Object(o.b)(),r.f("design:type",Object)],h.prototype,"loggedOut$",void 0)},429:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(2),o=n(30),i=n(18),s=n(68),a=n(57),u=n(58),c=(function(){function t(t,e){this._store=t,this._service=e}return t.prototype.canActivateChild=function(t){var e=this;return this._store.select((function(t){return t})).skipWhile((function(t){return Object(u.a)(t)})).take(1).switchMapCorx((function(n){var i=(n.get,n.put);return r.b(e,void 0,void 0,(function(){var e,n,s=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,this._service.isAuthenticated()];case 1:return e=r.sent(),e||(n=t.pathFromRoot.map((function(t){return s.mapUrl(t.url)})).join("/"),this._store.dispatch(Object(a.s)(n)),this._store.dispatch(Object(o.a)("/login"))),[4,i(e)];case 2:return r.sent(),[2]}}))}))}))},t.prototype.mapUrl=function(t){return t.map((function(t){return t.path})).join("/")},t.ctorParameters=function(){return[{type:i.a},{type:s.a}]},t})()},430:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),o=n(32),i=(n.n(o),n(66)),s=n(57),a=n(18),u=(function(){function t(t,e){this.store=t,this.resolvers=e}return t.prototype.resolve=function(){var t=this;return Object(o.corx)((function(e){var n=e.get,o=e.put;return r.b(t,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,o(s.b.init())];case 1:return t.sent(),[4,n(this.resolvers.waitForResult(s.b))];case 2:return t.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t.ctorParameters=function(){return[{type:a.a},{type:i.a}]},t})()},431:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(30),o=n(58),i=n(18),s=n(190),a=(function(){function t(t){this.store=t}return t.prototype.canActivateChild=function(t,e){var n=this;return this.store.select((function(t){return t})).skipWhile((function(t){return Object(o.a)(t)})).take(1).map(o.g).map((function(e){for(var o=0,i=Object(s.b)(t);o<i.length;o++){var a=i[o],u=(function(t){var o=t.data.restricted;if(o&&e.some((function(t){return o.indexOf(t)>=0})))return n.store.dispatch(Object(r.a)(t.data.restrictedRedirection||"/")),{value:!1}})(a);if("object"==typeof u)return u.value}return!0}))},t.ctorParameters=function(){return[{type:i.a}]},t})()},432:function(t,e,n){"use strict";function r(t,e){return new i.AuthHttp(new i.AuthConfig({tokenGetter:function(){return e.getToken("token")}}),t)}e.a=r;var o=n(67),i=n(161),s=(n.n(i),n(163));i.AuthHttp,o.Http,s.a},44:function(t,e,n){"use strict";var r=(n(425),n(68));n.d(e,"b",(function(){return r.a})),n.d(e,"f",(function(){return r.b}));var o=n(143);n.d(e,"e",(function(){return o.a}));var i=n(163);n.d(e,"k",(function(){return i.a}));var s=n(574);n.d(e,"l",(function(){return s.a})),n.d(e,"m",(function(){return s.b}));var a=(n(428),n(58));n.d(e,"o",(function(){return a.b})),n.d(e,"p",(function(){return a.c})),n.d(e,"q",(function(){return a.f})),n.d(e,"r",(function(){return a.j}));var u=n(57);n.d(e,"g",(function(){return u.d})),n.d(e,"h",(function(){return u.e})),n.d(e,"j",(function(){return u.j})),n.d(e,"n",(function(){return u.p}));var c=(n(582),n(429));n.d(e,"a",(function(){return c.a}));var l=n(18);n.d(e,"c",(function(){return l.a}));var f=(n(238),n(430));n.d(e,"i",(function(){return f.a}));var d=(n(236),n(166),n(190));n.d(e,"d",(function(){return d.a}));n(431),n(432),n(583),n(584)},5:function(t,e,n){"use strict";n.d(e,"k",(function(){return o})),n.d(e,"o",(function(){return r})),n.d(e,"p",(function(){return s})),n.d(e,"Z",(function(){return a})),n.d(e,"i",(function(){return i})),n.d(e,"K",(function(){return c})),n.d(e,"Q",(function(){return l})),n.d(e,"n",(function(){return u})),n.d(e,"Y",(function(){return d})),n.d(e,"l",(function(){return f})),n.d(e,"H",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"I",(function(){return g})),n.d(e,"z",(function(){return b})),n.d(e,"d",(function(){return m})),n.d(e,"E",(function(){return v})),n.d(e,"_7",(function(){return S})),n.d(e,"_6",(function(){return E})),n.d(e,"A",(function(){return y})),n.d(e,"P",(function(){return O})),n.d(e,"v",(function(){return C})),n.d(e,"u",(function(){return T})),n.d(e,"_2",(function(){return I})),n.d(e,"_3",(function(){return j})),n.d(e,"q",(function(){return w})),n.d(e,"_0",(function(){return R})),n.d(e,"_1",(function(){return A})),n.d(e,"f",(function(){return k})),n.d(e,"M",(function(){return L})),n.d(e,"U",(function(){return P})),n.d(e,"T",(function(){return N})),n.d(e,"x",(function(){return _})),n.d(e,"a",(function(){return U})),n.d(e,"_5",(function(){return F})),n.d(e,"W",(function(){return M})),n.d(e,"V",(function(){return x})),n.d(e,"_4",(function(){return z})),n.d(e,"R",(function(){return B})),n.d(e,"j",(function(){return D})),n.d(e,"X",(function(){return H})),n.d(e,"_8",(function(){return G})),n.d(e,"c",(function(){return q})),n.d(e,"S",(function(){return K})),n.d(e,"w",(function(){return X}));var r,o=-1;(function(t){t[t.Draft=0]="Draft",t[t.Ready=1]="Ready",t[t.Published=2]="Published"})(r||(r={}));var i,s=Object.keys(r).map((function(t){return+t})).filter((function(t){return Number.isInteger(t)})),a=function(t){switch(t){case r.Draft:return"Draft";case r.Ready:return"Ready";case r.Published:return"Published";default:return""}};(function(t){t[t.Ready=1]="Ready",t[t.Published=2]="Published"})(i||(i={}));var u,c=(Object.keys(r).map((function(t){return+t})).filter((function(t){return Number.isInteger(t)})),{MIN:"${min}",MAX:"${max}",REGEX:"${regex}"}),l={applicationKey:"unknown",customConfig:null};(function(t){t[t.ElementPresence=0]="ElementPresence",t[t.LabelComparison=1]="LabelComparison",t[t.InputFieldComparison=2]="InputFieldComparison",t[t.CustomScript=3]="CustomScript"})(u||(u={}));var f,d=function(t){switch(t){case+u.ElementPresence:return"Element Presence";case+u.LabelComparison:return"Label Comparison";case+u.InputFieldComparison:return"Spotlight Comparison";case+u.CustomScript:return"Custom Script";default:return""}};(function(t){t[t.BounceToStep=0]="BounceToStep",t[t.EndFlow=1]="EndFlow",t[t.CustomScript=2]="CustomScript"})(f||(f={}));var p;(function(t){t[t.None=1]="None",t[t.HightLightElement=2]="HightLightElement",t[t.BlinkElement=3]="BlinkElement",t[t.FocusElement=4]="FocusElement"})(p||(p={}));var h;(function(t){t[t.Equal=0]="Equal",t[t.NotEqual=1]="NotEqual",t[t.Regex=2]="Regex",t[t.Contains=3]="Contains",t[t.EmptyValue=4]="EmptyValue",t[t.NonEmptyValue=5]="NonEmptyValue"})(h||(h={}));var g;(function(t){t[t.DecisionPoint=0]="DecisionPoint",t[t.FlowStep=1]="FlowStep"})(g||(g={}));var m,b={banner:{shortTitle:"banner.shortTitle",fullTitle:"banner.fullTitle",settingsTitle:"banner.settingsTitle"},navigator:{searchFlows:"navigator.searchFlows",workflow:"navigator.workflow",workflows:"navigator.workflows",items:"navigator.items",item:"navigator.item",tasks:"navigator.tasks",task:"navigator.task"},buttons:{next:"buttons.next",done:"buttons.done",submit:"buttons.submit",close:"buttons.close"},feedback:{text:"feedback.text",error:"feedback.error",expand:"feedback.expand",collapse:"feedback.collapse"},success:{title:"success.title",text:"success.text"},validations:{rangeMessage:"validations.rangeMessage",minLength:"validations.minLength",maxLength:"validations.maxLength",regex:"validations.regex",required:"validations.required",customMessage:"validations.customMessage"},announcements:{acceptLabel:"announcements.acceptLabel",cancelLabel:"announcements.cancelLabel",checkBoxLabel:"announcements.checkBoxLabel"},settingsOptions:{language:"settingsOptions.language",highlightSelection:"settingsOptions.highlightSeletion",increaseFontSize:"settingsOptions.increaseFontSize"},settingsLabels:{generalOptions:"settingsLabels.generalOptions",accessibility:"settingsLabels.accessibility",connectedSegments:"settingsLabels.connectedSegments",noSegmentsConnected:"settingsLabels.noSegmentsConnected"},emptyPlayer:{emptyTitle:"emptyPlayer.emptyTitle",emptyCaption:"emptyPlayer.emptyCaption"},error:{title:"error.title",okButton:"error.okButton",announcementLaunchError:"error.announcementLaunchError"},tabNames:{help:"tabNames.help",onBoarding:"tabNames.onBoarding"},permalinkErrorMessages:{invalidPermaLink:"permalinkErrorMessages.invalidPermaLink",flowError:"permalinkErrorMessages.flowError",announcementError:"permalinkErrorMessages.announcementError",customContentError:"permalinkErrorMessages.customContentError"}};(function(t){t[t.Self=1]="Self",t[t.SSO=2]="SSO"})(m||(m={}));var v;(function(t){t[t.OAuth2=1]="OAuth2",t[t.SAML2=2]="SAML2",t[t.None=3]="None"})(v||(v={}));var y,S=function(){return Object.keys(p).filter((function(t){return!isNaN(+t)})).map((function(t){return Number(t)}))},E=function(t){switch(t){case p.HightLightElement:return"Highlight";case p.BlinkElement:return"Blink";case p.FocusElement:return"Focus";case p.None:return"None"}};(function(t){t[t.Default=1]="Default",t[t.Customize=2]="Customize"})(y||(y={}));var O;(function(t){t[t.RequiredValue=0]="RequiredValue",t[t.LengthConstraint=1]="LengthConstraint",t[t.Regex=2]="Regex",t[t.Custom=3]="Custom"})(O||(O={}));var T,C={select:"select",input:"input",textarea:"textarea"};(function(t){t[t.ElementSelection=1]="ElementSelection",t[t.CustomScript=2]="CustomScript",t[t.URI=3]="URI"})(T||(T={}));var w,I=function(t){switch(t){case T.ElementSelection:return"Anchor Points";case T.URI:return"URI Hash";case T.CustomScript:return"Custom Script";default:return""}},j=function(){return Object.keys(T).filter((function(t){return isNaN(+t)}))};(function(t){t[t.ElementSelection=1]="ElementSelection",t[t.CustomScript=2]="CustomScript",t[t.CSS=3]="CSS",t[t.XPath=4]="XPath"})(w||(w={}));var k,R=function(t){switch(t){case w.ElementSelection:return"Element Selection";case w.CustomScript:return"Custom Script";case w.CSS:return"CSS Selector";case w.XPath:return"XPath";default:return""}},A=function(){return Object.keys(w).filter((function(t){return isNaN(+t)}))};(function(t){t[t.Launcher=0]="Launcher",t[t.Tooltip=1]="Tooltip",t[t.Announcement=2]="Announcement",t[t.Validation=3]="Validation"})(k||(k={}));var L;(function(t){t[t.Launcher=0]="Launcher",t[t.Tooltip=1]="Tooltip",t[t.Announcement=2]="Announcement",t[t.Validation=3]="Validation",t[t.WorkFlow=4]="WorkFlow",t[t.KnowledgeCenter=5]="KnowledgeCenter",t[t.Frame=6]="Frame",t[t.OnBoarding=7]="OnBoarding"})(L||(L={}));var _,P=function(t){switch(t){case+k.Launcher:return"Launcher";case+k.Tooltip:return"Tooltip";case+k.Announcement:return"Announcement";case+k.Validation:return"Validation";default:return""}},N=function(t){switch(t){case+k.Launcher:return"Launchers";case+k.Tooltip:return"Tooltips";case+k.Announcement:return"Announcements";case+k.Validation:return"Validations";default:return""}};(function(t){t[t.Flow=0]="Flow",t[t.URL=1]="URL",t[t.Video=2]="Video"})(_||(_={}));var U;(function(t){t[t.Flow=0]="Flow",t[t.URL=1]="URL",t[t.Video=2]="Video",t[t.Ok=3]="Ok"})(U||(U={}));var D,F=function(t){switch(t){case _.Flow:return"Flow";case _.URL:return"URL";case _.Video:return"Video";default:return""}},M=function(t){switch(t){case _.URL:return D.URL;case _.Video:return D.Video}},x=function(t){switch(t){case U.URL:return D.URL;case U.Video:return D.Video}},z=function(t){switch(t){case U.URL:return"Launch an URL";case U.Video:return"Launch a Video";case U.Flow:return"Launch a WorkFlow";case U.Ok:return"Ok got it"}},B=function(t){switch(t){case U.Flow:return"Flow";case U.URL:return"URL";case U.Video:return"Video";default:return""}};(function(t){t[t.URL=0]="URL",t[t.Video=1]="Video",t[t.Image=2]="Image"})(D||(D={}));var V,H=function(t){switch(t){case D.URL:return"URL";case D.Video:return"Video";case D.Image:return"Image";default:return""}},G="Local";(function(t){t[t.PLAYER=0]="PLAYER",t[t.EDITOR=1]="EDITOR",t[t.CHROME_ZIP=2]="CHROME_ZIP",t[t.FIREFOX_ZIP=3]="FIREFOX_ZIP",t[t.EDGE_ZIP=4]="EDGE_ZIP",t[t.FIREFOX_XPI=5]="FIREFOX_XPI",t[t.CHROME_CRX=6]="CHROME_CRX",t[t.EDGE_PLAYER_PATH=7]="EDGE_PLAYER_PATH"})(V||(V={}));var $;(function(t){t[t.Login=1]="Login",t[t.Logout=2]="Logout"})($||($={}));var q;(function(t){t[t.Admin=1]="Admin",t[t.Editor=2]="Editor"})(q||(q={}));var W,K=function(t){switch(t){case q.Admin:return"ADMIN";case q.Editor:return"EDITOR";default:return""}};(function(t){t[t.None=1]="None",t[t.letznavId=2]="letznavId",t[t.Cookie=3]="Cookie",t[t.JavaScript=4]="JavaScript",t[t.Variable=5]="Variable",t[t.Salesforce=6]="Salesforce"})(W||(W={}));var Z;W.None;(function(t){t[t.Variable=1]="Variable",t[t.URL=2]="URL",t[t.CustomScript=3]="CustomScript"})(Z||(Z={}));var X="local"},51:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"f",(function(){return b})),n.d(e,"h",(function(){return y})),n.d(e,"g",(function(){return S})),n.d(e,"j",(function(){return O})),n.d(e,"e",(function(){return T}));var r;(function(t){t[t.RightTop=1]="RightTop",t[t.RightMiddle=2]="RightMiddle",t[t.RightBottom=3]="RightBottom",t[t.BottomRight=4]="BottomRight",t[t.BottomMiddle=5]="BottomMiddle",t[t.BottomLeft=6]="BottomLeft",t[t.LeftTop=7]="LeftTop",t[t.LeftMiddle=8]="LeftMiddle",t[t.LeftBottom=9]="LeftBottom"})(r||(r={}));var o,i,s,a,u,c,l={accentColor:"#4A79E2",foregroundColor:"#FFFFFF",layoutSize:"regular",layoutDesign:"alternative",layoutTheme:"light",launcherIcon:"information",playerPosition:r.BottomRight,playerIcon:"letznav"},f="letznav_player_theme",d="editor_bubble_theme",p=(o={},o[r.RightTop]={label:"Right Top",bannerClass:"banner-position--right-top",playerClass:"player-position--right-top"},o[r.RightMiddle]={label:"Right Middle",bannerClass:"banner-position--right-middle",playerClass:"player-position--right-middle"},o[r.RightBottom]={label:"Right Bottom",bannerClass:"banner-position--right-bottom",playerClass:"player-position--right-bottom"},o[r.BottomRight]={label:"Bottom Right",bannerClass:"banner-position--bottom-right",playerClass:"player-position--bottom-right"},o[r.BottomMiddle]={label:"Bottom Middle",bannerClass:"banner-position--bottom-middle",playerClass:"player-position--bottom-middle"},o[r.BottomLeft]={label:"Bottom Left",bannerClass:"banner-position--bottom-left",playerClass:"player-position--bottom-left"},o[r.LeftTop]={label:"Left Top",bannerClass:"banner-position--left-top",playerClass:"player-position--left-top"},o[r.LeftMiddle]={label:"Left Middle",bannerClass:"banner-position--left-middle",playerClass:"player-position--left-middle"},o[r.LeftBottom]={label:"Left Bottom",bannerClass:"banner-position--left-bottom",playerClass:"player-position--left-bottom"},o),h={ORIGINAL:"original",ALTERNATIVE:"alternative"},g=(i={},i[h.ORIGINAL]={label:"Original",class:"letznav-design--original"},i[h.ALTERNATIVE]={label:"Alternative",class:"letznav-design--alternative"},i),m={ALTERNATIVE_ONE:"help",ALTERNATIVE_TWO:"information",ALTERNATIVE_THREE:"warning",ALTERNATIVE_FOUR:"asterisk",ALTERNATIVE_NONE:"none"},b=(s={},s[m.ALTERNATIVE_ONE]={label:"Help",class:"letznav-badge-indicator__icon--help"},s[m.ALTERNATIVE_TWO]={label:"Information",class:"letznav-badge-indicator__icon--info"},s[m.ALTERNATIVE_THREE]={label:"Warning",class:"letznav-badge-indicator__icon--warn"},s[m.ALTERNATIVE_FOUR]={label:"Asterisk",class:"letznav-badge-indicator__icon--asterisk"},s),v={ALTERNATIVE_ONE:"letznav",ALTERNATIVE_TWO:"help",ALTERNATIVE_THREE:"lifesaver",ALTERNATIVE_FOUR:"lightbulb",ALTERNATIVE_NONE:"none"},y=(a={},a[v.ALTERNATIVE_NONE]={label:"None",class:""},a[v.ALTERNATIVE_ONE]={label:"Letznav Icon",class:"letznav-banner-container__player__icon--letznav"},a[v.ALTERNATIVE_TWO]={label:"Help Icon",class:"letznav-banner-container__player__icon--help"},a[v.ALTERNATIVE_THREE]={label:"Lifesaver Icon",class:"letznav-banner-container__player__icon--lifesaver"},a[v.ALTERNATIVE_FOUR]={label:"Lightbulb Icon",class:"letznav-banner-container__player__icon--lightbulb"},a),S=(u={},u[v.ALTERNATIVE_NONE]={label:"None",class:""},u[v.ALTERNATIVE_ONE]={label:"Letznav Icon",class:"letznav-banner-container__player__icon--letznav-dark"},u[v.ALTERNATIVE_TWO]={label:"Help Icon",class:"letznav-banner-container__player__icon--help-dark"},u[v.ALTERNATIVE_THREE]={label:"Lifesaver Icon",class:"letznav-banner-container__player__icon--lifesaver-dark"},u[v.ALTERNATIVE_FOUR]={label:"Lightbulb Icon",class:"letznav-banner-container__player__icon--lightbulb-dark"},u),E={LIGHT:"light",DARK:"dark"},O=(c={},c[E.LIGHT]={label:"Light",class:"letznav-theme--light"},c[E.DARK]={label:"Dark",class:"letznav-theme--dark"},c),T=function(t){return C(t,document)},C=function(t,e){if(!t)return"letznav-hide";var n=[],r=!1;return e&&(r="rtl"===e.dir),t.match(/^(TOP|BOTTOM)/i)?n.push("letznav-arrow-vertical"):n.push("letznav-arrow-horizontal"),t.match(/BOTTOM/i)?(n.push("letznav-target-attached-bottom"),n.push("letznav-element-attached-top")):t.match(/TOP/i)?(n.push("letznav-target-attached-top"),n.push("letznav-element-attached-bottom")):(n.push("letznav-target-attached-middle"),n.push("letznav-element-attached-middle")),t.match(/LEFT/i)?r?(n.push("letznav-target-attached-right"),n.push("letznav-element-attached-left")):(n.push("letznav-target-attached-left"),n.push("letznav-element-attached-right")):t.match(/RIGHT/i)?r?(n.push("letznav-target-attached-left"),n.push("letznav-element-attached-right")):(n.push("letznav-target-attached-right"),n.push("letznav-element-attached-left")):(n.push("letznav-target-attached-center"),n.push("letznav-element-attached-center")),n.join(" ")}},515:function(t,e){function n(t){return Promise.resolve().then((function(){throw new Error("Cannot find module '"+t+"'.")}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=515},57:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"n",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"t",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"m",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"p",(function(){return h})),n.d(e,"c",(function(){return g})),n.d(e,"q",(function(){return m})),n.d(e,"f",(function(){return b})),n.d(e,"o",(function(){return v})),n.d(e,"d",(function(){return y})),n.d(e,"r",(function(){return S})),n.d(e,"k",(function(){return E})),n.d(e,"u",(function(){return O})),n.d(e,"l",(function(){return T})),n.d(e,"v",(function(){return C})),n.d(e,"i",(function(){return w})),n.d(e,"s",(function(){return I}));var r=n(14),o=function(t){return"LOGIN_"+t},i=o("LOG_IN"),s=function(t,e,n){return{type:i,payload:{username:t,password:e,source:n}}},a=Object(r.a)(o("LOAD_SSO_CONFIG")),u=o("SSO_LOG_IN_SUCCESS"),c=function(t,e){return{type:u,payload:{token:t,userId:e}}},l=o("LOG_IN_GOOGLE"),f=o("GET_USER_PROFILE"),d=function(){return{type:f}},p=o("LOG_OUT"),h=function(t){return{type:p,payload:{source:t}}},g=o("LOGGED_IN"),m=function(t){return{type:g,payload:t}},b=o("LOG_IN_FAILED"),v=function(t){return{type:b,payload:t}},y=o("LOGGED_OUT"),S=function(){return{type:y}},E=o("VALIDATE_AUTH"),O=function(){return{type:E}},T=o("VALIDATE_AUTH_DONE"),C=function(t){return{type:T,payload:t}},w=o("SET_REDIRECT_PATH"),I=function(t){return{type:w,payload:t}}},572:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),o=n(161),i=(n.n(o),n(68)),s=n(143),a=n(163),u=(function(t){function e(e,n){var r=t.call(this)||this;return r.authService=e,r.tokenStorage=n,r}return r.d(e,t),e.prototype.handleAuthentication=function(){return r.b(this,void 0,void 0,(function(){var t,e;return r.e(this,(function(n){switch(n.label){case 0:return[4,this.getAuthorizationToken()];case 1:if(!(t=n.sent()))return[3,6];n.label=2;case 2:return n.trys.push([2,4,,6]),[4,this.getUserProfile()];case 3:return n.sent(),[3,6];case 4:return e=n.sent(),[4,this.tokenStorage.setToken("token")];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.getSSOEndPoints=function(){return r.b(this,void 0,void 0,(function(){var t,e;return r.e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.authService.getSSOEndPoints().toPromise()];case 1:return t=n.sent(),[3,3];case 2:throw e=n.sent();case 3:return[2,t]}}))}))},e.prototype.logIn=function(t,e,n){return r.b(this,void 0,void 0,(function(){var o,s,a,u,c;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.authService.login({username:t,password:e,source:n}).toPromise()];case 1:return o=r.sent(),s=o.token,a=o.userId,[4,this.tokenStorage.setToken("token",s)];case 2:return r.sent(),[4,this.tokenStorage.setToken(i.b,String(a))];case 3:return r.sent(),[3,5];case 4:if(u=r.sent(),403===u.status)throw c=JSON.parse(u._body).msg,c.includes("sso")?new Error(c):new Error("Invalid username or password");throw u;case 5:return[2]}}))}))},e.prototype.ssoLogInSuccess=function(t,e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.tokenStorage.setToken("token",t)];case 1:return n.sent(),[4,this.tokenStorage.setToken(i.b,String(e))];case 2:return n.sent(),[2]}}))}))},e.prototype.loginWithGoogle=function(){throw new Error("Not supported")},e.prototype.getUserProfile=function(){return r.b(this,void 0,void 0,(function(){var t,e;return r.e(this,(function(n){switch(n.label){case 0:return[4,this.getAuthorizationHeader()];case 1:return t=n.sent(),[4,this.authService.getUserProfile(t).toPromise()];case 2:return e=n.sent(),[2,e]}}))}))},e.prototype.logOut=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.tokenStorage.setToken("token")];case 1:return t.sent(),[4,this.tokenStorage.setToken(i.b)];case 2:return t.sent(),[2]}}))}))},e.prototype.isAuthenticated=function(){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(e){switch(e.label){case 0:return[4,this.getAuthorizationToken()];case 1:return t=e.sent(),t?[2,Object(o.tokenNotExpired)("token",t)]:[2,!1]}}))}))},e.prototype.getAuthorizationToken=function(){return this.tokenStorage.getToken("token")},e.prototype.resetPassword=function(t,e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.authService.resetPassword(t,{password:e}).toPromise()];case 1:return[2,n.sent()]}}))}))},e.prototype.requestResetPassword=function(t,e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.authService.requestResetPassword({username:t,baseUrl:e}).toPromise()];case 1:return n.sent(),[2]}}))}))},e.prototype.getAuthorizationHeader=function(){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(e){switch(e.label){case 0:return[4,this.getAuthorizationToken()];case 1:return t=e.sent(),[2,"Bearer "+t]}}))}))},e.ctorParameters=function(){return[{type:s.a},{type:a.a}]},e})(i.a)},573:function(t,e,n){"use strict";var r=n(2),o=n(164);(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}r.d(e,t),e.prototype.setToken=function(t,e){return e?localStorage.setItem("letznav_token_"+t,e):localStorage.removeItem("letznav_token_"+t),Promise.resolve()},e.prototype.getToken=function(t){var e=localStorage.getItem("letznav_token_"+t)||null;return Promise.resolve(e)}})(o.a)},574:function(t,e,n){"use strict";n.d(e,"b",(function(){return C})),n.d(e,"a",(function(){return w}));var r,o=n(2),i=n(6),s=n(25),a=n(14),u=n(57),c=n(575),l=n(578),f={loginError:"",loggingIn:!1,redirectAfterLogIn:null,user:null,validatingAuth:!0,SSOConfig:null},d=function(t){return o.a({},t,{loginError:"",loggingIn:!0})},p=function(t){return o.a({},t,{loginError:"",loggingIn:!0})},h=function(t,e){return o.a({},t,{loggingIn:!1,user:e})},g=function(t){return o.a({},t,{user:null})},m=function(t){return o.a({},t)},b=function(t,e){return o.a({},t,{loginError:e,loggingIn:!1})},v=function(t,e){return o.a({},t,{redirectAfterLogIn:e})},y=function(t){return o.a({},t,{validatingAuth:!0})},S=function(t){return o.a({},t,{validatingAuth:!1})},E=Object(a.b)(u.b,{init:function(t){return o.a({},t,{SSOConfig:null})},succeeded:function(t,e){return o.a({},t,{SSOConfig:e})}}),O=o.a((r={},r[u.e]=d,r[u.a]=p,r[u.c]=h,r[u.d]=g,r[u.f]=b,r[u.i]=v,r[u.k]=y,r[u.l]=S,r[u.h]=m,r),E),T=Object(s.a)(O,f),C={login:f,resetPassword:c.a,forgottenPassword:l.b},w=Object(i.h)({login:T,resetPassword:c.b,forgottenPassword:l.a})},575:function(t,e,n){"use strict";var r=(n(236),n(577));n.d(e,"b",(function(){return r.b})),n.d(e,"a",(function(){return r.a}));n(426)},576:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var r=function(t){return t.resetPassword},o=function(t){return r(t).resetLinkResult},i=function(t){return r(t).resetDone},s=function(t){return r(t).redirectToAdmin}},577:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return p}));var r,o=n(2),i=n(25),s=n(165),a={resetDone:!1,resetLinkResult:null,redirectToAdmin:!0},u=function(t){return o.a({},t,{resetDone:!0})},c=function(t,e){return o.a({},t,{resetLinkResult:!0,redirectToAdmin:e.redirect})},l=function(t,e){var n=e.isTempError;return o.a({},t,{resetLinkResult:!1,resetDone:!0!==n})},f=function(t){return a},d=(r={},r[s.a]=u,r[s.c]=c,r[s.b]=l,r[s.d]=f,r),p=Object(i.a)(d,a)},578:function(t,e,n){"use strict";var r=(n(166),n(580));n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return r.b}));n(427)},579:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s}));var r=function(t){return t.forgottenPassword},o=function(t){return r(t).sendingStarted},i=function(t){return r(t).sentResult},s=function(t){return r(t).errorMessage}},58:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"i",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return p}));var r=function(t){return t.login},o=function(t){return r(t).loggingIn||r(t).validatingAuth},i=function(t){return r(t).loginError},s=function(t){return r(t).redirectAfterLogIn},a=function(t){return r(t).SSOConfig},u=function(t){var e=r(t);return e.user&&e.user.nickname},c=function(t){var e=r(t);return e.user&&e.user.user_id},l=function(t){var e=r(t);return e.user&&e.user.roleName},f=function(t){var e=r(t);return e.user&&Array.isArray(e.user.roles)?e.user.roles:[]},d=function(t){return function(e){return f(e).indexOf(t)>=0}},p=function(t){return r(t)?r(t).user&&r(t).user.permissions:[]}},580:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return p}));var r,o=n(2),i=n(25),s=n(167),a={sendingStarted:!1,sentResult:null,errorMessage:null},u=function(t){return a},c=function(t){return o.a({},t,{sendingStarted:!0})},l=function(t){return o.a({},t,{sentResult:!0})},f=function(t,e){return o.a({},t,{sentResult:!1,sendingStarted:!1,errorMessage:e})},d=(r={},r[s.d]=u,r[s.a]=c,r[s.c]=l,r[s.b]=f,r),p=Object(i.a)(d,a)},581:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="@ngrx/store/init"},582:function(t,e,n){"use strict";n(5)},583:function(t,e,n){"use strict";var r=n(8),o=(n.n(r),n(23)),i=n(18),s=n(58),a=n(57);(function(){function t(t,e){this.store=t,this.activatedRoute=e}t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new r.Subject,this.errorMessage=this.store.select(s.d).takeUntil(this.ngUnsubscribe),this.activatedRoute.params.takeUntil(this.ngUnsubscribe).subscribe((function(e){t.store.dispatch(Object(a.t)(e.token,e.userId))}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.ctorParameters=function(){return[{type:i.a},{type:o.a}]}})()},584:function(t,e,n){"use strict";(function(){function t(){}})()},66:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(17),o=n(8),i=(n.n(o),(function(){function t(t){this.actions$=t}return t.prototype.waitForResult=function(t){return o.Observable.race((e=this.actions$).ofType.apply(e,t.RESULT_ACTIONS).take(1),o.Observable.timer(2e4).map((function(){return t.failed(new Error("Effect did not succeeded after timeout. Check the code of effect "+t.INIT+"."))}))).switchMap((function(e){if(e.type===t.SUCCEEDED)return o.Observable.of(e);var n=new Error(e.payload||"Effect failed: "+e.type);return o.Observable.throw(n)}));var e},t.ctorParameters=function(){return[{type:r.a}]},t})())},674:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2),o=n(44),i=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.prototype.setToken=function(t,e){return new Promise(function(n,r){chrome.storage.local.set((o={},o["auth_token_"+t]=e||null,o),(function(){if(chrome.runtime.lastError)return void r(chrome.runtime.lastError);n()}));var o})},e.prototype.getToken=function(t){return new Promise(function(e,n){chrome.storage.local.get("auth_token_"+t,(function(r){if(chrome.runtime.lastError)return void n(chrome.runtime.lastError);e(r["auth_token_"+t]||null)}))})},e})(o.k);o.k},675:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),o=n(0),i=n(8),s=(n.n(i),n(9)),a=(function(t){function e(e){var n=t.call(this)||this;return n._ngZone=e,n._messages=new i.Subject,chrome.runtime.onMessage.addListener(n.onMessage.bind(n)),n}return r.d(e,t),Object.defineProperty(e.prototype,"messages",{get:function(){return this._messages.map((function(t){return t.message}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messagesResponse",{get:function(){return this._messages},enumerable:!0,configurable:!0}),e.prototype.sendMessage=function(t,e){return void 0===e&&(e=!1),this.sendMessageTab(null,t,e)},e.prototype.sendMessageTab=function(t,e,n){var r=this;return void 0===n&&(n=!1),new Promise(function(o,i){var s=function(t){r._ngZone.run((function(){return o(t)}))};null===t?chrome.runtime.sendMessage(e,n?s:null):chrome.tabs.sendMessage(t,e,n?s:null),n||o(null)})},e.prototype.ofType=function(t){return this.messages.filter((function(e){return e.type===t}))},e.prototype.ofTypeResponse=function(t){return this._messages.filter((function(e){return e.message.type===t}))},e.prototype.onMessage=function(t,e,n){var r=this;return this._ngZone.run((function(){return r._messages.next({message:t,sendResponse:n,sender:e})})),!0},e.ctorParameters=function(){return[{type:o.NgZone}]},e})(s.a)},68:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r="last_user_id",o=(function(){function t(){}return t})()},74:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return d}));var r,o=n(99),i=n(51),s="letznavref",a=/^[^\s]{8,}$/,u=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c={THEME:"theme",KEYBOARD_SHORTCUTS:"keyboardShortcuts"},l=(p={},p[c.THEME]=i.d,p[c.KEYBOARD_SHORTCUTS]=o.b,{CLICK_NEXT:"CLICK_NEXT",CLICK_ELEMENT:"CLICK_ELEMENT",MOUSEOVER_ELEMENT:"MOUSEOVER_ELEMENT",CHANGE_ELEMENT:"CHANGE_ELEMENT",INPUT_ELEMENT:"INPUT_ELEMENT"}),f={CLICK_NEXT:"NEXT button",CLICK_ELEMENT:"Click on element",MOUSEOVER_ELEMENT:"Mouse hover element",CHANGE_ELEMENT:"Change in element",INPUT_ELEMENT:"Input in element"},d={CLICK_ELEMENT:"click",MOUSEOVER_ELEMENT:"mouseover",CHANGE_ELEMENT:"change",INPUT_ELEMENT:"input"};(function(t){t[t.WF=1]="WF",t[t.AN=2]="AN",t[t.KC=3]="KC",t[t.LC=4]="LC",t[t.TT=4]="TT"})(r||(r={}));var p},800:function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":299,"./af.js":299,"./ar":300,"./ar-dz":301,"./ar-dz.js":301,"./ar-kw":302,"./ar-kw.js":302,"./ar-ly":303,"./ar-ly.js":303,"./ar-ma":304,"./ar-ma.js":304,"./ar-sa":305,"./ar-sa.js":305,"./ar-tn":306,"./ar-tn.js":306,"./ar.js":300,"./az":307,"./az.js":307,"./be":308,"./be.js":308,"./bg":309,"./bg.js":309,"./bn":310,"./bn.js":310,"./bo":311,"./bo.js":311,"./br":312,"./br.js":312,"./bs":313,"./bs.js":313,"./ca":314,"./ca.js":314,"./cs":315,"./cs.js":315,"./cv":316,"./cv.js":316,"./cy":317,"./cy.js":317,"./da":318,"./da.js":318,"./de":319,"./de-at":320,"./de-at.js":320,"./de-ch":321,"./de-ch.js":321,"./de.js":319,"./dv":322,"./dv.js":322,"./el":323,"./el.js":323,"./en-au":324,"./en-au.js":324,"./en-ca":325,"./en-ca.js":325,"./en-gb":326,"./en-gb.js":326,"./en-ie":327,"./en-ie.js":327,"./en-nz":328,"./en-nz.js":328,"./eo":329,"./eo.js":329,"./es":330,"./es-do":331,"./es-do.js":331,"./es.js":330,"./et":332,"./et.js":332,"./eu":333,"./eu.js":333,"./fa":334,"./fa.js":334,"./fi":335,"./fi.js":335,"./fo":336,"./fo.js":336,"./fr":337,"./fr-ca":338,"./fr-ca.js":338,"./fr-ch":339,"./fr-ch.js":339,"./fr.js":337,"./fy":340,"./fy.js":340,"./gd":341,"./gd.js":341,"./gl":342,"./gl.js":342,"./gom-latn":343,"./gom-latn.js":343,"./he":344,"./he.js":344,"./hi":345,"./hi.js":345,"./hr":346,"./hr.js":346,"./hu":347,"./hu.js":347,"./hy-am":348,"./hy-am.js":348,"./id":349,"./id.js":349,"./is":350,"./is.js":350,"./it":351,"./it.js":351,"./ja":352,"./ja.js":352,"./jv":353,"./jv.js":353,"./ka":354,"./ka.js":354,"./kk":355,"./kk.js":355,"./km":356,"./km.js":356,"./kn":357,"./kn.js":357,"./ko":358,"./ko.js":358,"./ky":359,"./ky.js":359,"./lb":360,"./lb.js":360,"./lo":361,"./lo.js":361,"./lt":362,"./lt.js":362,"./lv":363,"./lv.js":363,"./me":364,"./me.js":364,"./mi":365,"./mi.js":365,"./mk":366,"./mk.js":366,"./ml":367,"./ml.js":367,"./mr":368,"./mr.js":368,"./ms":369,"./ms-my":370,"./ms-my.js":370,"./ms.js":369,"./my":371,"./my.js":371,"./nb":372,"./nb.js":372,"./ne":373,"./ne.js":373,"./nl":374,"./nl-be":375,"./nl-be.js":375,"./nl.js":374,"./nn":376,"./nn.js":376,"./pa-in":377,"./pa-in.js":377,"./pl":378,"./pl.js":378,"./pt":379,"./pt-br":380,"./pt-br.js":380,"./pt.js":379,"./ro":381,"./ro.js":381,"./ru":382,"./ru.js":382,"./sd":383,"./sd.js":383,"./se":384,"./se.js":384,"./si":385,"./si.js":385,"./sk":386,"./sk.js":386,"./sl":387,"./sl.js":387,"./sq":388,"./sq.js":388,"./sr":389,"./sr-cyrl":390,"./sr-cyrl.js":390,"./sr.js":389,"./ss":391,"./ss.js":391,"./sv":392,"./sv.js":392,"./sw":393,"./sw.js":393,"./ta":394,"./ta.js":394,"./te":395,"./te.js":395,"./tet":396,"./tet.js":396,"./th":397,"./th.js":397,"./tl-ph":398,"./tl-ph.js":398,"./tlh":399,"./tlh.js":399,"./tr":400,"./tr.js":400,"./tzl":401,"./tzl.js":401,"./tzm":402,"./tzm-latn":403,"./tzm-latn.js":403,"./tzm.js":402,"./uk":404,"./uk.js":404,"./ur":405,"./ur.js":405,"./uz":406,"./uz-latn":407,"./uz-latn.js":407,"./uz.js":406,"./vi":408,"./vi.js":408,"./x-pseudo":409,"./x-pseudo.js":409,"./yo":410,"./yo.js":410,"./zh-cn":411,"./zh-cn.js":411,"./zh-hk":412,"./zh-hk.js":412,"./zh-tw":413,"./zh-tw.js":413};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=800},9:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t})()},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return a}));var r;(function(t){t[t.previousButton=1]="previousButton",t[t.nextButton=2]="nextButton",t[t.customButton=3]="customButton",t[t.cancelFlow=4]="cancelFlow",t[t.toggleLetznav=5]="toggleLetznav",t[t.scrollUp=6]="scrollUp",t[t.scrollDown=7]="scrollDown",t[t.selectItem=8]="selectItem",t[t.playItem=9]="playItem",t[t.selectBadge=10]="selectBadge",t[t.announcementFocussed=11]="announcementFocussed",t[t.changeLanguage=12]="changeLanguage",t[t.successFlow=13]="successFlow",t[t.cancelItem=14]="cancelItem",t[t.switchHeaderTabs=15]="switchHeaderTabs"})(r||(r={}));var o={previousButton:"Alt + P",nextButton:"Alt + N",customButton:"Alt + J",cancelFlow:"Alt + C",successFlow:"Alt + D",toggleLetznav:"Alt + H",scrollUp:"38",scrollDown:"40",selectItem:"Alt + I",playItem:"ENTER",selectBadge:"Alt + T",announcementFocussed:"Alt  + A",changeLanguage:"Alt + L",cancelItem:"ESCAPE",switchHeaderTabs:"Alt + M"},i=function(t){if(!t||0===t.trim().length)return{error:"Shortcut not defined."};var e=t.split("+").map((function(t){return t.trim().toLowerCase()})),n={key:e[e.length-1],ctrl:!1,shift:!1,alt:!1};if(t===o.scrollUp||t===o.scrollDown||t===o.playItem||t===o.cancelItem)return n;if(n.key.match(/arrow/))return n;if(!n.key.match(/^[a-z]$/))return{error:"Shortcut needs to have key A-Z."};if(e.length<2)return{error:"Shortcut needs to have at least one modifier (Ctrl, Shift, Alt)."};for(var r=0,i=e.slice(0,e.length-1);r<i.length;r++){var s=i[r];if(!s.match(/^ctrl|alt|shift$/))return{error:'Invalid token in the shortcut "'+s+'".'};n[s]=!0}return n},s=function(t){return(t.ctrl?"ctrl+":"")+(t.shift?"shift+":"")+(t.alt?"alt+":"")+t.key},a=function(t){if(!t||"string"!=typeof t.key)return"erroneous event";var e="";t.ctrlKey&&(e+="ctrl+"),t.shiftKey&&(e+="shift+"),t.altKey&&(e+="alt+");var n=t.key.toLowerCase();return e+=n.includes("up")||n.includes("down")?t.keyCode:n}}},[1886]);