webpackJsonp([2],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var r,i=n(1),o=n(4),a=new i.InjectionToken("applicationURL");(function(e){e[e.NotChecked=0]="NotChecked",e[e.NotPresent=1]="NotPresent",e[e.NotVisible=2]="NotVisible",e[e.Present=3]="Present"})(r||(r={}));var s,c={id:-1,name:"",formIdentification:[],frameIdentificationType:o.t.ElementSelection,URI:"",customScript:"",deployment:0,tags:[]};(function(e){e[e.None=0]="None",e[e.Starting=1]="Starting",e[e.InProgress=2]="InProgress",e[e.Succeeded=3]="Succeeded",e[e.Canceled=4]="Canceled"})(s||(s={}));var u,l=function(e,t){return!!e&&!!t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height};(function(e){e[e.toggleCssPicker=0]="toggleCssPicker",e[e.cssPickerToggled=1]="cssPickerToggled",e[e.uriHashChanged=2]="uriHashChanged",e[e.cssSelectorChanged=3]="cssSelectorChanged",e[e.takeScreenshot=4]="takeScreenshot",e[e.screenshot=5]="screenshot",e[e.screenshotFailed=6]="screenshotFailed",e[e.selectedElementMoved=7]="selectedElementMoved",e[e.selectElement=8]="selectElement",e[e.getIFrameSelector=9]="getIFrameSelector",e[e.iFrameSelector=10]="iFrameSelector",e[e.shortcutPressed=11]="shortcutPressed"})(u||(u={}));var d;(function(e){e[e.element=0]="element",e[e.parent=1]="parent"})(d||(d={}))},1272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(4),o=n(1273),a=n(16),s=this;(function(){return r.b(s,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:return[4,Object(a.l)().bootstrapModuleFactory(o.a)];case 1:return e.sent(),[2]}}))}))})().catch((function(e){return console.error(e)})),chrome.runtime.onMessage.addListener((function(e,t,n){if(e.type===i.d.SSO)try{chrome.identity.launchWebAuthFlow({url:e.SSO_LOGIN_URI+"?redirectURI=https://"+chrome.runtime.id+".chromiumapp.org&source="+Object(i.S)(i.c.Editor),interactive:!0},(function(e){n({URI:e})}))}catch(e){n({URI:void 0}),console.error(e)}}))},1273:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n(1274),o=n(10),a=n(16),s=n(1277),c=n(8),u=n(1278),l=n(585),d=n(583),p=r["ɵcmf"](i.a,[],(function(e){return r["ɵmod"]([r["ɵmpd"](512,r.ComponentFactoryResolver,r["ɵCodegenComponentFactoryResolver"],[[8,[]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["ɵmpd"](5120,r.LOCALE_ID,r["ɵm"],[[3,r.LOCALE_ID]]),r["ɵmpd"](4608,o.n,o.m,[r.LOCALE_ID]),r["ɵmpd"](4608,r.Compiler,r.Compiler,[]),r["ɵmpd"](5120,r.APP_ID,r["ɵf"],[]),r["ɵmpd"](5120,r.IterableDiffers,r["ɵk"],[]),r["ɵmpd"](5120,r.KeyValueDiffers,r["ɵl"],[]),r["ɵmpd"](4608,a.c,a.v,[o.d]),r["ɵmpd"](6144,r.Sanitizer,null,[a.c]),r["ɵmpd"](4608,a.f,a.g,[]),r["ɵmpd"](5120,a.d,(function(e,t,n,r){return[new a.m(e),new a.r(t),new a.p(n,r)]}),[o.d,o.d,o.d,a.f]),r["ɵmpd"](4608,a.e,a.e,[a.d,r.NgZone]),r["ɵmpd"](135680,a.o,a.o,[o.d]),r["ɵmpd"](4608,a.n,a.n,[a.e,a.o]),r["ɵmpd"](6144,r.RendererFactory2,null,[a.n]),r["ɵmpd"](6144,a.s,null,[a.o]),r["ɵmpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["ɵmpd"](4608,a.h,a.h,[o.d]),r["ɵmpd"](4608,a.j,a.j,[o.d]),r["ɵmpd"](4608,s.a,s.a,[]),r["ɵmpd"](512,o.c,o.c,[]),r["ɵmpd"](1024,r.ErrorHandler,a.t,[]),r["ɵmpd"](1024,r.APP_INITIALIZER,(function(e,t){return[a.u(e,t)]}),[[2,a.i],[2,r.NgProbeToken]]),r["ɵmpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["ɵmpd"](131584,r["ɵe"],r["ɵe"],[r.NgZone,r["ɵConsole"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["ɵmpd"](2048,r.ApplicationRef,null,[r["ɵe"]]),r["ɵmpd"](512,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["ɵmpd"](512,a.a,a.a,[[3,a.a]]),r["ɵmpd"](512,c.a,u.a,[r.NgZone]),r["ɵmpd"](512,l.a,l.a,[c.a]),r["ɵmpd"](512,d.a,d.a,[c.a]),r["ɵmpd"](512,i.a,i.a,[r.ApplicationRef,l.a,d.a])])}))},1274:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),i=n(29),o=(n.n(i),n(128)),a=(n.n(o),n(583)),s=n(585),c=(function(){function e(e,t,n){this.appRef=e,this.routingService=t,this.applications=n}return e.prototype.ngDoBootstrap=function(){},e.ctorParameters=function(){return[{type:r.ApplicationRef},{type:s.a},{type:a.a}]},e})()},1275:function(e,t,n){"use strict";t.__esModule=!0;var r=n(584);t.default=r.default,(function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])})(n(1276))},1276:function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();t.__esModule=!0;var i=n(584),o=(function(e){function t(){return e.call(this,1)||this}return r(t,e),t})(i.default);t.Lock=o},1277:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(function(){function e(){}return e.prototype.getTab=function(e){return new Promise(function(t,n){return chrome.tabs.get(e,(function(e){chrome.runtime.lastError?n(chrome.runtime.lastError):t(e)}))})},e.prototype.captureTab=function(e){return new Promise(function(t,n){return chrome.tabs.captureVisibleTab(e.windowId,(function(e){chrome.runtime.lastError?n(chrome.runtime.lastError):t({dataUrl:e})}))})},e})()},1278:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(1),o=n(7),a=(n.n(o),n(8)),s=(function(e){function t(t){var n=e.call(this)||this;return n._ngZone=t,n._messages=new o.Subject,chrome.runtime.onMessage.addListener(n.onMessage.bind(n)),n}return r.d(t,e),Object.defineProperty(t.prototype,"messages",{get:function(){return this._messages.map((function(e){return e.message}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messagesResponse",{get:function(){return this._messages},enumerable:!0,configurable:!0}),t.prototype.sendMessage=function(e,t){return void 0===t&&(t=!1),this.sendMessageTab(null,e,t)},t.prototype.sendMessageTab=function(e,t,n){var r=this;return void 0===n&&(n=!1),new Promise(function(i,o){var a=function(e){r._ngZone.run((function(){return i(e)}))};null===e?chrome.runtime.sendMessage(t,n?a:null):chrome.tabs.sendMessage(e,t,n?a:null),n||i(null)})},t.prototype.ofType=function(e){return this.messages.filter((function(t){return t.type===e}))},t.prototype.ofTypeResponse=function(e){return this._messages.filter((function(t){return t.message.type===e}))},t.prototype.onMessage=function(e,t,n){var r=this;return this._ngZone.run((function(){return r._messages.next({message:e,sendResponse:n,sender:t})})),!0},t.ctorParameters=function(){return[{type:i.NgZone}]},t})(a.a)},151:function(e,t,n){"use strict";var r=n(21);n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.c}))},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(2),i=n(1),o=this,a=function(){return r.b(o,void 0,void 0,(function(){var e,t;return r.e(this,(function(n){switch(n.label){case 0:return[4,fetch(chrome.runtime.getURL("./config.json"))];case 1:return e=n.sent(),[4,e.json()];case 2:return t=n.sent(),[2,t]}}))}))},s=new i.InjectionToken("config.json"),c=new i.InjectionToken("config.json/backendUrl")},263:function(e,t){function n(e){return Promise.resolve().then((function(){throw new Error("Cannot find module '"+e+"'.")}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=263},4:function(e,t,n){"use strict";n.d(t,"P",(function(){return i})),n.d(t,"o",(function(){return r})),n.d(t,"T",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"I",(function(){return c})),n.d(t,"R",(function(){return u})),n.d(t,"Q",(function(){return l})),n.d(t,"n",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"F",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"G",(function(){return f})),n.d(t,"y",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"O",(function(){return E})),n.d(t,"u",(function(){return b})),n.d(t,"t",(function(){return C})),n.d(t,"p",(function(){return y})),n.d(t,"f",(function(){return P})),n.d(t,"K",(function(){return w})),n.d(t,"w",(function(){return R})),n.d(t,"a",(function(){return F})),n.d(t,"j",(function(){return I})),n.d(t,"U",(function(){return D})),n.d(t,"c",(function(){return x})),n.d(t,"S",(function(){return L})),n.d(t,"M",(function(){return T})),n.d(t,"D",(function(){return _})),n.d(t,"v",(function(){return U})),n.d(t,"k",(function(){return O}));var r,i=-2;(function(e){e[e.Draft=0]="Draft",e[e.Ready=1]="Ready",e[e.Published=2]="Published"})(r||(r={}));var o,a=(Object.keys(r).map((function(e){return+e})).filter((function(e){return Number.isInteger(e)})),function(e){switch(e){case r.Draft:return"Draft";case r.Ready:return"Ready";case r.Published:return"Published";default:return""}});(function(e){e[e.Ready=1]="Ready",e[e.Published=2]="Published"})(o||(o={}));var s,c=(Object.keys(r).map((function(e){return+e})).filter((function(e){return Number.isInteger(e)})),{MIN:"${min}",MAX:"${max}",REGEX:"${regex}"}),u={applicationKey:"unknown",customConfig:null},l="<all_urls>";(function(e){e[e.ElementPresence=0]="ElementPresence",e[e.LabelComparison=1]="LabelComparison",e[e.InputFieldComparison=2]="InputFieldComparison",e[e.CustomScript=3]="CustomScript"})(s||(s={}));var d;(function(e){e[e.BounceToStep=0]="BounceToStep",e[e.EndFlow=1]="EndFlow",e[e.CustomScript=2]="CustomScript"})(d||(d={}));var p;(function(e){e[e.None=1]="None",e[e.HightLightElement=2]="HightLightElement",e[e.BlinkElement=3]="BlinkElement",e[e.FocusElement=4]="FocusElement"})(p||(p={}));var h;(function(e){e[e.Equal=0]="Equal",e[e.NotEqual=1]="NotEqual",e[e.Regex=2]="Regex",e[e.Contains=3]="Contains",e[e.EmptyValue=4]="EmptyValue",e[e.NonEmptyValue=5]="NonEmptyValue"})(h||(h={}));var f;(function(e){e[e.DecisionPoint=0]="DecisionPoint",e[e.FlowStep=1]="FlowStep"})(f||(f={}));var m,g={banner:{shortTitle:"banner.shortTitle",fullTitle:"banner.fullTitle",settingsTitle:"banner.settingsTitle"},navigator:{searchFlows:"navigator.searchFlows",workflow:"navigator.workflow",workflows:"navigator.workflows",items:"navigator.items",item:"navigator.item",tasks:"navigator.tasks",task:"navigator.task"},buttons:{next:"buttons.next",done:"buttons.done",submit:"buttons.submit",close:"buttons.close"},feedback:{text:"feedback.text",error:"feedback.error",expand:"feedback.expand",collapse:"feedback.collapse"},success:{title:"success.title",text:"success.text"},validations:{rangeMessage:"validations.rangeMessage",minLength:"validations.minLength",maxLength:"validations.maxLength",regex:"validations.regex",required:"validations.required",customMessage:"validations.customMessage"},announcements:{acceptLabel:"announcements.acceptLabel",cancelLabel:"announcements.cancelLabel",checkBoxLabel:"announcements.checkBoxLabel"},settingsOptions:{language:"settingsOptions.language",highlightSelection:"settingsOptions.highlightSeletion",increaseFontSize:"settingsOptions.increaseFontSize"},settingsLabels:{generalOptions:"settingsLabels.generalOptions",accessibility:"settingsLabels.accessibility",connectedSegments:"settingsLabels.connectedSegments",noSegmentsConnected:"settingsLabels.noSegmentsConnected"},emptyPlayer:{emptyTitle:"emptyPlayer.emptyTitle",emptyCaption:"emptyPlayer.emptyCaption"},error:{title:"error.title",okButton:"error.okButton",announcementLaunchError:"error.announcementLaunchError"},tabNames:{help:"tabNames.help",onBoarding:"tabNames.onBoarding"},permalinkErrorMessages:{invalidPermaLink:"permalinkErrorMessages.invalidPermaLink",flowError:"permalinkErrorMessages.flowError",announcementError:"permalinkErrorMessages.announcementError",customContentError:"permalinkErrorMessages.customContentError"}};(function(e){e[e.Self=1]="Self",e[e.SSO=2]="SSO"})(m||(m={}));var S;(function(e){e[e.OAuth2=1]="OAuth2",e[e.SAML2=2]="SAML2",e[e.None=3]="None"})(S||(S={}));var v;(function(e){e[e.Default=1]="Default",e[e.Customize=2]="Customize"})(v||(v={}));var E;(function(e){e[e.RequiredValue=0]="RequiredValue",e[e.LengthConstraint=1]="LengthConstraint",e[e.Regex=2]="Regex",e[e.Custom=3]="Custom"})(E||(E={}));var C,b={select:"select",input:"input",textarea:"textarea"};(function(e){e[e.ElementSelection=1]="ElementSelection",e[e.CustomScript=2]="CustomScript",e[e.URI=3]="URI"})(C||(C={}));var y;(function(e){e[e.ElementSelection=1]="ElementSelection",e[e.CustomScript=2]="CustomScript",e[e.CSS=3]="CSS",e[e.XPath=4]="XPath"})(y||(y={}));var P;(function(e){e[e.Launcher=0]="Launcher",e[e.Tooltip=1]="Tooltip",e[e.Announcement=2]="Announcement",e[e.Validation=3]="Validation"})(P||(P={}));var w;(function(e){e[e.Launcher=0]="Launcher",e[e.Tooltip=1]="Tooltip",e[e.Announcement=2]="Announcement",e[e.Validation=3]="Validation",e[e.WorkFlow=4]="WorkFlow",e[e.KnowledgeCenter=5]="KnowledgeCenter",e[e.Frame=6]="Frame",e[e.OnBoarding=7]="OnBoarding"})(w||(w={}));var R;(function(e){e[e.Flow=0]="Flow",e[e.URL=1]="URL",e[e.Video=2]="Video"})(R||(R={}));var F;(function(e){e[e.Flow=0]="Flow",e[e.URL=1]="URL",e[e.Video=2]="Video",e[e.Ok=3]="Ok"})(F||(F={}));var I;(function(e){e[e.URL=0]="URL",e[e.Video=1]="Video",e[e.Image=2]="Image"})(I||(I={}));var k,D="Local";(function(e){e[e.PLAYER=0]="PLAYER",e[e.EDITOR=1]="EDITOR",e[e.CHROME_ZIP=2]="CHROME_ZIP",e[e.FIREFOX_ZIP=3]="FIREFOX_ZIP",e[e.EDGE_ZIP=4]="EDGE_ZIP",e[e.FIREFOX_XPI=5]="FIREFOX_XPI",e[e.CHROME_CRX=6]="CHROME_CRX",e[e.EDGE_PLAYER_PATH=7]="EDGE_PLAYER_PATH"})(k||(k={}));var A;(function(e){e[e.Login=1]="Login",e[e.Logout=2]="Logout"})(A||(A={}));var x;(function(e){e[e.Admin=1]="Admin",e[e.Editor=2]="Editor"})(x||(x={}));var T,L=function(e){switch(e){case x.Admin:return"ADMIN";case x.Editor:return"EDITOR";default:return""}};(function(e){e[e.None=1]="None",e[e.letznavId=2]="letznavId",e[e.Cookie=3]="Cookie",e[e.JavaScript=4]="JavaScript",e[e.Variable=5]="Variable",e[e.Salesforce=6]="Salesforce"})(T||(T={}));var _;T.None;(function(e){e[e.Variable=1]="Variable",e[e.URL=2]="URL",e[e.CustomScript=3]="CustomScript"})(_||(_={}));var U="local",O="defaultLetznavUser"},583:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(131),o=(n.n(i),n(1275)),a=(n.n(o),n(151)),s=n(8),c=n(9),u=(function(){function e(e){this.messages=e,this.lock=new o.Lock,this.messages.ofTypeResponse(c.a.ShouldExtensionStart).subscribe(this.onShouldStart.bind(this)),this.messages.ofTypeResponse(c.a.ClearApplicationCache).subscribe(this.clearCache.bind(this)),chrome.browserAction.onClicked.addListener(this.onIconClick.bind(this))}return e.prototype.onIconClick=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.clearCache(),[4,this.shoulStartExtension(e.url)];case 1:return n.sent()?[4,this.messages.sendMessageTab(e.id,{type:c.a.StartExtension},!1)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:return t=n.sent(),console.error(t),[3,5];case 5:return[2]}}))}))},e.prototype.clearCache=function(){this.cache=null},e.prototype.onShouldStart=function(e){var t=e.message,n=e.sendResponse;return r.b(this,void 0,void 0,(function(){var e,i,o;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=t.href,[4,this.shoulStartExtension(e)];case 1:return i=r.sent(),n({shouldStart:i}),[3,3];case 2:return o=r.sent(),console.error(o),n({shouldStart:!1}),[3,3];case 3:return[2]}}))}))},e.prototype.shoulStartExtension=function(e){return r.b(this,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.acquireCache()];case 1:return t=r.sent(),n=t.urls.some((function(t){return e.startsWith(t)})),[2,n]}}))}))},e.prototype.acquireCache=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,o,s,c;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.lock.acquire()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,,7,8]),(e=Object(i.utc)(),this.cache&&this.cache.validTill.isAfter(e))?[2,this.cache]:this.config?[3,4]:(t=this,[4,Object(a.b)()]);case 3:t.config=r.sent(),r.label=4;case 4:return n=null,o=this.config.backendUrl+"/api/public/admin/applications/urls",n&&(o+="?userId="+encodeURIComponent(n)),[4,fetch(o)];case 5:if(s=r.sent(),!s.ok)throw new Error("Cannot get applications URLs");return[4,s.json()];case 6:return c=r.sent().urls,this.cache={urls:c,validTill:e.clone().add(1,"h")},[2,this.cache];case 7:return this.lock.release(),[7];case 8:return[2]}}))}))},e.ctorParameters=function(){return[{type:s.a}]},e})()},584:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}};t.__esModule=!0;var o=(function(){function e(e){this.promiseResolverQueue=[],this.permits=e}return e.prototype.getPermits=function(){return this.permits},e.prototype.wait=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return this.permits>0?(this.permits-=1,[2,Promise.resolve(!0)]):[2,new Promise(function(t){return e.promiseResolverQueue.push(t)})]}))}))},e.prototype.acquire=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.wait()]}))}))},e.prototype.waitFor=function(e){return r(this,void 0,void 0,(function(){var t,n,r=this;return i(this,(function(i){return this.permits>0?(this.permits-=1,[2,Promise.resolve(!0)]):(t=function(e){},n=new Promise(function(e){t=e}),this.promiseResolverQueue.push(t),setTimeout((function(){var e=r.promiseResolverQueue.indexOf(t);-1!==e&&r.promiseResolverQueue.splice(e,1),t(!1)}),e),[2,n])}))}))},e.prototype.tryAcquire=function(){return this.permits>0&&(this.permits-=1,!0)},e.prototype.drainPermits=function(){if(this.permits>0){var e=this.permits;return this.permits=0,e}return 0},e.prototype.signal=function(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)throw new Error("this.permits should never be > 0 when there is someone waiting.");if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;var e=this.promiseResolverQueue.shift();e&&e(!0)}},e.prototype.release=function(){this.signal()},e.prototype.execute=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.wait()];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,,4,5]),[4,e()];case 3:return[2,t.sent()];case 4:return this.signal(),[7];case 5:return[2]}}))}))},e})();t.default=o},585:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(9),o=n(8),a=(function(){function e(e){this.messages=e,this.nonRoutable=new Set([i.a.TakeScreenshot,i.a.ShouldExtensionStart]),this.initRouting()}return e.prototype.initRouting=function(){var e=this;this.messages.messagesResponse.subscribe((function(t){var n=t.message,i=t.sender,o=t.sendResponse;return r.b(e,void 0,void 0,(function(){var e,t;return r.e(this,(function(r){switch(r.label){case 0:if(this.nonRoutable.has(n.type))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.messages.sendMessageTab(i.tab.id,n,!0)];case 2:return e=r.sent(),void 0!==e&&o(e),[3,4];case 3:return t=r.sent(),console.error(t),[3,4];case 4:return[2]}}))}))}))},e.ctorParameters=function(){return[{type:o.a}]},e})()},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(function(){function e(){}return e})()},9:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r,i=n(11);(function(e){e[e.Expand=0]="Expand",e[e.Narrow=1]="Narrow",e[e.Previous=2]="Previous",e[e.Next=3]="Next"})(r||(r={}));var o,a={element:null,checkState:i.b.NotChecked,position:null};(function(e){e[e.ElementSelector=0]="ElementSelector",e[e.ElementSelected=1]="ElementSelected",e[e.ElementState=2]="ElementState",e[e.StepViewElementState=3]="StepViewElementState",e[e.ElementEvent=4]="ElementEvent",e[e.GetElementState=5]="GetElementState",e[e.GetElementSelector=6]="GetElementSelector",e[e.ActivatePicker=7]="ActivatePicker",e[e.DeactivatePicker=8]="DeactivatePicker",e[e.ClearPickedElement=9]="ClearPickedElement",e[e.FramesChanged=10]="FramesChanged",e[e.zIndexChanged=11]="zIndexChanged",e[e.ChangeSelection=12]="ChangeSelection",e[e.ShowSelection=13]="ShowSelection",e[e.HideSelection=14]="HideSelection",e[e.ShowHighlight=15]="ShowHighlight",e[e.HideHighlight=16]="HideHighlight",e[e.SearchElementByText=17]="SearchElementByText",e[e.ClearTextSearch=18]="ClearTextSearch",e[e.TakeScreenshot=19]="TakeScreenshot",e[e.Shortcut=20]="Shortcut",e[e.PlayerShortcut=21]="PlayerShortcut",e[e.GetApplicationConfig=22]="GetApplicationConfig",e[e.ApplicationConfig=23]="ApplicationConfig",e[e.ClearIntegrityState=24]="ClearIntegrityState",e[e.ClearCurrentStepIntegrityState=25]="ClearCurrentStepIntegrityState",e[e.LoadIntegrityState=26]="LoadIntegrityState",e[e.UpdateIntegrityState=27]="UpdateIntegrityState",e[e.SetCurrentStep=28]="SetCurrentStep",e[e.IntegrityState=29]="IntegrityState",e[e.RequestIntegrityState=30]="RequestIntegrityState",e[e.AddStepToIntegrity=31]="AddStepToIntegrity",e[e.ShowPivot=32]="ShowPivot",e[e.HidePivot=33]="HidePivot",e[e.ShowFormPivot=34]="ShowFormPivot",e[e.HideFormPivot=35]="HideFormPivot",e[e.ShowSpotlight=36]="ShowSpotlight",e[e.HideSpotlight=37]="HideSpotlight",e[e.PlayerShortcuts=38]="PlayerShortcuts",e[e.GetPlayerShortcuts=39]="GetPlayerShortcuts",e[e.UrlChanged=40]="UrlChanged",e[e.GetCurrentScripts=41]="GetCurrentScripts",e[e.ExecuteAppScript=42]="ExecuteAppScript",e[e.ExecuteStepScript=43]="ExecuteStepScript",e[e.StepScriptExecuted=44]="StepScriptExecuted",e[e.ScriptExecutionAction=45]="ScriptExecutionAction",e[e.ScriptExecutionState=46]="ScriptExecutionState",e[e.StepCondition=47]="StepCondition",e[e.GetStepCondition=48]="GetStepCondition",e[e.StepConditionEvaluation=49]="StepConditionEvaluation",e[e.ScrollToElement=50]="ScrollToElement",e[e.RequestValidationData=51]="RequestValidationData",e[e.SetValidationData=52]="SetValidationData",e[e.ClearValidationData=53]="ClearValidationData",e[e.SetFormData=54]="SetFormData",e[e.SetCurrentForm=55]="SetCurrentForm",e[e.ClearFormData=56]="ClearFormData",e[e.UpdateFormData=57]="UpdateFormData",e[e.UpdateFormState=58]="UpdateFormState",e[e.RequestFormData=59]="RequestFormData",e[e.UpdateValidationData=60]="UpdateValidationData",e[e.DeleteValidationData=61]="DeleteValidationData",e[e.UpdateValidationState=62]="UpdateValidationState",e[e.RecheckValidations=63]="RecheckValidations",e[e.ValidationEvent=64]="ValidationEvent",e[e.SetForms=65]="SetForms",e[e.ClearForms=66]="ClearForms",e[e.ActivateForms=67]="ActivateForms",e[e.RequestForms=68]="RequestForms",e[e.RecheckForms=69]="RecheckForms",e[e.ExecuteDecisionConditions=70]="ExecuteDecisionConditions",e[e.StepDecisionConditionsEvaluated=71]="StepDecisionConditionsEvaluated",e[e.AnnouncementDecisionConditionsEvaluated=72]="AnnouncementDecisionConditionsEvaluated",e[e.ExecuteDecisionActions=73]="ExecuteDecisionActions",e[e.UpdateDecisionEvaluation=74]="UpdateDecisionEvaluation",e[e.DecisionPointGoToAction=75]="DecisionPointGoToAction",e[e.DecisionPointNextStepAction=76]="DecisionPointNextStepAction",e[e.DecisionPointEndFlowAction=77]="DecisionPointEndFlowAction",e[e.DecisionPointCustomScriptAction=78]="DecisionPointCustomScriptAction",e[e.ShouldExtensionStart=79]="ShouldExtensionStart",e[e.ClearApplicationCache=80]="ClearApplicationCache",e[e.StartExtension=81]="StartExtension",e[e.DecisionEditorAddClass=82]="DecisionEditorAddClass",e[e.DecisionEditorRemoveClass=83]="DecisionEditorRemoveClass",e[e.ClearBadgeData=84]="ClearBadgeData",e[e.SetBadgeData=85]="SetBadgeData",e[e.UpdateBadgeData=86]="UpdateBadgeData",e[e.DeleteBadgeData=87]="DeleteBadgeData",e[e.UpdateBadgeState=88]="UpdateBadgeState",e[e.RecheckBadges=89]="RecheckBadges",e[e.RequestBadgeData=90]="RequestBadgeData",e[e.ShowBadge=91]="ShowBadge",e[e.HideBadge=92]="HideBadge",e[e.FilterFlows=93]="FilterFlows",e[e.FilterFlowsResult=94]="FilterFlowsResult",e[e.ChangePlayerVisibility=95]="ChangePlayerVisibility",e[e.UpdateEditFormData=96]="UpdateEditFormData",e[e.FindIFramePath=97]="FindIFramePath",e[e.SetIFramePath=98]="SetIFramePath",e[e.UpdateUserTrackingId=99]="UpdateUserTrackingId",e[e.clearUserTrackingId=100]="clearUserTrackingId",e[e.FlowStepSpotlightTypeChange=101]="FlowStepSpotlightTypeChange",e[e.IdentifyActiveSegments=102]="IdentifyActiveSegments",e[e.HashChanged=103]="HashChanged",e[e.DOMChanged=104]="DOMChanged",e[e.TopWindowDOMChanged=105]="TopWindowDOMChanged"})(o||(o={}));var s;(function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next",e[e.GoToStep=2]="GoToStep",e[e.Fail=3]="Fail",e[e.End=4]="End",e[e.UserAction=5]="UserAction"})(s||(s={}))}},[1272]);